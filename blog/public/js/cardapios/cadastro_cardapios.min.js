var energia=0,carboidratos=0,proteinas=0,lipidios=0,fibras=0,vitamina_a=0,vitamina_c=0,vitamina_d=0,vitamina_e=0,vitamina_b1=0,vitamina_b2=0,vitamina_b6=0,vitamina_b12=0,niacina=0,folico=0,pantotenico=0,calcio=0,ferro=0,magnesio=0,potassio=0,selenio=0,fosforo=0,iodo=0,cobre=0,zinco=0,sodio=0,gordura_total=0,colesterol=0,gordura_saturada=0,gordura_poliinsaturada=0,gordura_monoinsaturada=0,valor=0,listaVazia1=!0,listaVazia2=!0,listaVazia3=!0,listaVazia4=!0,listaVazia5=!0,listaVazia6=!0,listaTamanhoTotal=0,listaTamanho1=0,listaTamanho2=0,listaTamanho3=0,listaTamanho4=0,listaTamanho5=0,listaTamanho6=0,editando1=!1,editando2=!1,editando3=!1,editando4=!1,editando5=!1,editando6=!1,posicaoEditar1=0,posicaoEditar2=0,posicaoEditar3=0,posicaoEditar4=0,posicaoEditar5=0,posicaoEditar6=0,referencia_modalidade=[];$("#reservation").daterangepicker({timePicker:!1,timePickerIncrement:0,locale:{format:"DD/MM/YYYY"}});var oldData=$("#reservation").val().split(" - "),datai=moment(oldData[0],"DD/MM/YYYY"),dataf=moment(oldData[1],"DD/MM/YYYY"),oldDatai=moment(datai.format("YYYY-MM-DD"),"YYYY-MM-DD"),oldDataf=moment(dataf.format("YYYY-MM-DD"),"YYYY-MM-DD"),separa=$("#reservation").val().split(" - "),data=moment(separa[0],"DD/MM/YYYY"),data2=moment(separa[1],"DD/MM/YYYY"),arr=data.format("YYYY-MM-DD"),arr2=data2.format("YYYY-MM-DD"),partes=arr.match(/(\d+)/g),partes2=arr2.match(/(\d+)/g),d=new Date(partes[0],partes[1]-1,partes[2],(new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds(),(new Date).getMilliseconds()),d2=new Date(partes2[0],partes2[1]-1,partes2[2]),numero_dias=numero_dias=Math.abs(d2.getDay()-d.getDay())+1,semana=["Domingo","Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"],meses=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];function diasNoMes(a,e){return new Date(e,a,0).getDate()}function adicionarDiasData(a,e){return new Date(e.getTime()+24*a*60*60*1e3)}function removerDiasData(a,e){return new Date(e.getTime()-24*a*60*60*1e3)}function removeClasse(a,e){$(a).removeClass(e)}function adicionaClasse(a,e){$(a).addClass(e)}function removeAtributo(a,e){$(a).removeAttr(e)}function adicionaAtributo(a,e,i){$(a).attr(e,i)}function ordenaRefeicoes(a,e){var i=$(a);i.sort(function(a,e){return $(a).attr("horario_ref")-$(e).attr("horario_ref")}),$(e).html(i)}function mostraDialogo2(a,e){swal({title:"Aviso!",text:a,icon:e}).then(a=>{location.href=APP_URL+"/menu/create"})}function mostraDialogo3(a){swal("Deseja gerar o PDF do cardápio agora?",{buttons:{cancel:"Cancelar",catch:{text:"Confirmar",value:"catch"},defeat:!1}}).then(e=>{switch(e){case"catch":window.open(APP_URL+"/menu/"+a+"/pdf","_blank"),mostraDialogo2("Dados inseridos com sucesso","success");break;default:mostraDialogo2("Dados inseridos com sucesso","success")}})}function validaEnviarFormulario(){var a=!1,e=$("#nome"),i=$("#select_modalidade"),o=$("#reservation");return""==e.val()?(a=!0,notificacao_alerta("Digite um <b>Nome</b>.")):i.val()<=0?(a=!0,notificacao_alerta("Selecine um <b>Modalidade</b>.")):""==o.val()?(a=!0,notificacao_alerta("Defina uma <b>Data</b>.")):a=!1,a}function retornaIndiceMaiorValor(a){for(var e=a[0],i=0,o=1;o<a.length;o++)a[o]>e&&(e=a[o],i=o);return i}function adicionaLinhaTabela(){$("#table_cardapio tbody tr").remove();var a=[],e=[],i=[],o=[],t=[],r=[],s=[],l=[],n=[],p=[],_=[],c=[];$(".refeicao1").each(function(e,i){a[e]=$(this).html()}),$(".item1").each(function(a,i){e[a]=$(this).html()}),$(".refeicao2").each(function(a,e){i[a]=$(this).html()}),$(".item2").each(function(a,e){o[a]=$(this).html()}),$(".refeicao3").each(function(a,e){t[a]=$(this).html()}),$(".item3").each(function(a,e){r[a]=$(this).html()}),$(".refeicao4").each(function(a,e){s[a]=$(this).html()}),$(".item4").each(function(a,e){l[a]=$(this).html()}),$(".refeicao5").each(function(a,e){n[a]=$(this).html()}),$(".item5").each(function(a,e){p[a]=$(this).html()}),$(".refeicao6").each(function(a,e){_[a]=$(this).html()}),$(".item6").each(function(a,e){c[a]=$(this).html()});for(var m=[""],F=[""],v=[""],u=[""],f=[""],b=[""],x=0,w=0,g=0,h=0,D=0,z=0,T=0;T<a.length;T++)a[T]==a[T+1]?m[x]+=e[T]+"<br>":(m[x]+=e[T],T<a.length-1&&(m[++x]=""));for(T=0;T<i.length;T++)i[T]==i[T+1]?F[w]+=o[T]+"<br>":(F[w]+=o[T],T<i.length-1&&(F[++w]=""));for(T=0;T<t.length;T++)t[T]==t[T+1]?v[g]+=r[T]+"<br>":(v[g]+=r[T],T<t.length-1&&(v[++g]=""));for(T=0;T<s.length;T++)s[T]==s[T+1]?u[h]+=l[T]+"<br>":(u[h]+=l[T],T<s.length-1&&(u[++h]=""));for(T=0;T<n.length;T++)n[T]==n[T+1]?f[D]+=p[T]+"<br>":(f[D]+=p[T],T<n.length-1&&(f[++D]=""));for(T=0;T<_.length;T++)_[T]==_[T+1]?b[z]+=c[T]+"<br>":(b[z]+=c[T],T<_.length-1&&(b[++z]=""));var y=[];$.each(a,function(a,e){-1===$.inArray(e,y)&&y.push(e)});y=[];$.each(a,function(a,e){-1===$.inArray(e,y)&&y.push(e)});var R=[];$.each(i,function(a,e){-1===$.inArray(e,R)&&R.push(e)});var q=[];$.each(t,function(a,e){-1===$.inArray(e,q)&&q.push(e)});var Y=[];$.each(s,function(a,e){-1===$.inArray(e,Y)&&Y.push(e)});var M=[];$.each(n,function(a,e){-1===$.inArray(e,M)&&M.push(e)});var S=[];$.each(_,function(a,e){-1===$.inArray(e,S)&&S.push(e)});var C=$("#select_escola option:selected"),I=$("#select_modalidade").val(),k=[],A=0,V=[],E=[];E[0]=y.length,E[1]=R.length,E[2]=q.length,E[3]=Y.length,E[4]=M.length,E[5]=S.length;var O=retornaIndiceMaiorValor(E);k=0==O?y:1==O?R:2==O?q:3==O?Y:4==O?M:S;var P=C.text();if("undefined"!=typeof modalidades_escola)for(var T in modalidades_escola)null!=modalidades_escola.hasOwnProperty(T)&&modalidades_escola[T].id==I&&(A=modalidades_escola[T].id_referencia);if("undefined"!=typeof referencias)for(var T in referencias)null!=referencias.hasOwnProperty(T)&&referencias[T].id==A&&(V=referencias[T]);var N=0,L=0,j=0,J=0,Q=0,U=0;for(T=0;T<k.length;T++){for(var H=$("<tr class='success'>"),B="",K="",W=0;W<tipo_refeicoes.length;W++)k[T]==tipo_refeicoes[W].nome&&(K=tipo_refeicoes[W].horario.split(":"));B+='<td class="text-center"style="width:100px;" colspan="3"><font size=2><strong>'+k[T]+"</strong><br>"+K[0]+":"+K[1]+"</font></td>",y[N]==k[T]?(B+='<td class="text-center" colspan="2" style="width:220px;"><font size=2>'+m[N]+"</font></td>",N++):B+='<td class="text-center" colspan="2" style="width:220px;"><font size=2></font></td>',R[L]==k[T]?(B+='<td class="text-center" colspan="2" style="width:220px;"><font size=2>'+F[L]+"</font></td>",L++):B+='<td class="text-center" colspan="2" style="width:220px;"><font size=2></font></td>',q[j]==k[T]?(B+='<td class="text-center" colspan="2" style="width:220px;"><font size=2>'+v[j]+"</font></td>",j++):B+='<td class="text-center" colspan="2" style="width:220px;"><font size=2></font></td>',Y[J]==k[T]?(B+='<td class="text-center" colspan="2" style="width:220px;"><font size=2>'+u[J]+"</font></td>",J++):B+='<td class="text-center" colspan="2" style="width:220px;"><font size=2></font></td>',M[Q]==k[T]?(B+='<td class="text-center" colspan="2" style="width:220px;"><font size=2>'+f[Q]+"</font></td>",Q++):B+='<td class="text-center" colspan="2" style="width:220px;"><font size=2></font></td>',S[U]==k[T]?(B+='<td class="text-center" colspan="2" style="width:290px;"><font size=2>'+b[U]+"</font></td>",U++):B+='<td class="text-center" colspan="2" style="width:290px;"><font size=2></font></td>',H.append(B),$("#table_cardapio").append(H)}var X=new Date,G=new Date,Z=new Date,aa=new Date,ea=new Date,ia=new Date;1==d.getDay()?(X=d,G=adicionarDiasData(1,d),Z=adicionarDiasData(2,d),aa=adicionarDiasData(3,d),ea=adicionarDiasData(4,d),ia=adicionarDiasData(5,d)):2==d.getDay()?(X=removerDiasData(1,d),G=d,Z=adicionarDiasData(1,d),aa=adicionarDiasData(2,d),ea=adicionarDiasData(3,d),ia=adicionarDiasData(4,d)):3==d.getDay()?(X=removerDiasData(2,d),G=removerDiasData(1,d),Z=d,aa=adicionarDiasData(1,d),ea=adicionarDiasData(2,d),ia=adicionarDiasData(3,d)):4==d.getDay()?(X=removerDiasData(3,d),G=removerDiasData(2,d),Z=removerDiasData(1,d),aa=d,ea=adicionarDiasData(1,d),ia=adicionarDiasData(2,d)):5==d.getDay()?(X=removerDiasData(4,d),G=removerDiasData(3,d),Z=removerDiasData(2,d),aa=removerDiasData(1,d),ea=d,ia=adicionarDiasData(1,d)):(X=removerDiasData(5,d),G=removerDiasData(4,d),Z=removerDiasData(3,d),aa=removerDiasData(2,d),ea=removerDiasData(1,d),ia=d),X.getDate()<10&&X.getMonth()+1<10?$("#td_dia1").html("0"+X.getDate()+"/0"+(X.getMonth()+1)):X.getDate()<10&&X.getMonth()+1>=10?$("#td_dia1").html("0"+X.getDate()+"/"+(X.getMonth()+1)):X.getDate()>=10&&X.getMonth()+1<10?$("#td_dia1").html(X.getDate()+"/0"+(X.getMonth()+1)):$("#td_dia1").html(X.getDate()+"/"+(X.getMonth()+1)),G.getDate()<10&&G.getMonth()+1<10?$("#td_dia2").html("0"+G.getDate()+"/0"+(G.getMonth()+1)):G.getDate()<10&&G.getMonth()+1>=10?$("#td_dia2").html("0"+G.getDate()+"/"+(G.getMonth()+1)):G.getDate()>=10&&G.getMonth()+1<10?$("#td_dia2").html(G.getDate()+"/0"+(G.getMonth()+1)):$("#td_dia2").html(G.getDate()+"/"+(G.getMonth()+1)),Z.getDate()<10&&Z.getMonth()+1<10?$("#td_dia3").html("0"+Z.getDate()+"/0"+(Z.getMonth()+1)):Z.getDate()<10&&Z.getMonth()+1>=10?$("#td_dia3").html("0"+Z.getDate()+"/"+(Z.getMonth()+1)):Z.getDate()>=10&&Z.getMonth()+1<10?$("#td_dia3").html(Z.getDate()+"/0"+(Z.getMonth()+1)):$("#td_dia3").html(Z.getDate()+"/"+(Z.getMonth()+1)),aa.getDate()<10&&aa.getMonth()+1<10?$("#td_dia4").html("0"+aa.getDate()+"/0"+(aa.getMonth()+1)):aa.getDate()<10&&aa.getMonth()+1>=10?$("#td_dia4").html("0"+aa.getDate()+"/"+(aa.getMonth()+1)):aa.getDate()>=10&&aa.getMonth()+1<10?$("#td_dia4").html(aa.getDate()+"/0"+(aa.getMonth()+1)):$("#td_dia4").html(aa.getDate()+"/"+(aa.getMonth()+1)),ea.getDate()<10&&ea.getMonth()+1<10?$("#td_dia5").html("0"+ea.getDate()+"/0"+(ea.getMonth()+1)):ea.getDate()<10&&ea.getMonth()+1>=10?$("#td_dia5").html("0"+ea.getDate()+"/"+(ea.getMonth()+1)):ea.getDate()>=10&&ea.getMonth()+1<10?$("#td_dia5").html(ea.getDate()+"/0"+(ea.getMonth()+1)):$("#td_dia5").html(ea.getDate()+"/"+(ea.getMonth()+1)),ia.getDate()<10&&ia.getMonth()+1<10?$("#td_dia6").html("0"+ia.getDate()+"/0"+(ia.getMonth()+1)):ia.getDate()<10&&ia.getMonth()+1>=10?$("#td_dia6").html("0"+ia.getDate()+"/"+(ia.getMonth()+1)):ia.getDate()>=10&&ia.getMonth()+1<10?$("#td_dia6").html(ia.getDate()+"/0"+(ia.getMonth()+1)):$("#td_dia6").html(ia.getDate()+"/"+(ia.getMonth()+1)),$("#span_mes_ano").html(meses[d.getMonth()]+" / "+d.getFullYear());var oa="",ta="";oa=1==V.categoria_ensino?"CRECHE":2==V.categoria_ensino?"PRÉ-ESCOLA":3==V.categoria_ensino?"ENSINO FUNDAMENTAL":4==V.categoria_ensino?"ENSINO MÉDIO":"EJA",ta=1==V.idade_alunos?"7 - 11 MESES":2==V.idade_alunos?"1 - 3 ANOS":3==V.idade_alunos?"4 - 5 ANOS":4==V.idade_alunos?"6 - 10 ANOS":5==V.idade_alunos?"11 - 15 ANOS":6==V.idade_alunos?"16 - 18 ANOS":7==V.idade_alunos?"19 - 30 anos":"31 - 60 anos",$("#td_modalidade").html("CARDÁPIO "+oa+" ("+ta+") <strong>"+P.toUpperCase()+"</strong>"),$("#td_span_calorias").html((energia/numero_dias).toFixed(2)),$("#td_span_carboidratos").html((carboidratos/numero_dias).toFixed(2)),$("#td_span_proteinas").html((proteinas/numero_dias).toFixed(2)),$("#td_span_lipidios").html((lipidios/numero_dias).toFixed(2)),$("#td_span_fibras").html((fibras/numero_dias).toFixed(2)),$("#td_span_vit_a").html((vitamina_a/numero_dias).toFixed(2)),$("#td_span_vit_c").html((vitamina_c/numero_dias).toFixed(2)),$("#td_span_calcio").html((calcio/numero_dias).toFixed(2)),$("#td_span_ferro").html((ferro/numero_dias).toFixed(2)),$("#td_span_magnesio").html((magnesio/numero_dias).toFixed(2)),$("#td_span_zinco").html((zinco/numero_dias).toFixed(2)),$("#td_span_sodio").html((sodio/numero_dias).toFixed(2))}function atualizaTabelaReferencia(a,e,i){var o=0;100==(o=a>0&&e>0?a/e*100:0==a&&0==e?100:0==a&&e>0?0:-1)?($(i).removeClass(),adicionaClasse(i,"badge bg-green"),$(i).empty(),$(i).html(o.toFixed(1)+" %"),$(i).attr("data-content","<strong>Valor do Cardápio</strong>: "+parseFloat(a).toFixed(2)+"<br><strong>Valor da Referência</strong>: "+parseFloat(e).toFixed(2))):o>100&&"#span_p_sodio"!=i?($(i).removeClass(),adicionaClasse(i,"badge bg-blue"),$(i).empty(),$(i).html(o.toFixed(1)+" %"),$(i).attr("data-content","<strong>Valor do Cardápio</strong>: "+parseFloat(a).toFixed(2)+"<br><strong>Valor da Referência</strong>: "+parseFloat(e).toFixed(2))):-1==o?($(i).removeClass(),adicionaClasse(i,"badge bg-blue"),$(i).empty(),$(i).html("N/A"),$(i).attr("data-content","<strong>Valor do Cardápio</strong>: "+parseFloat(a).toFixed(2)+"<br><strong>Valor da Referência</strong>: Não Aplicável")):o<100&&"#span_p_sodio"==i?($(i).removeClass(),adicionaClasse(i,"badge bg-green"),$(i).empty(),$(i).html(o.toFixed(1)+" %"),$(i).attr("data-content","<strong>Valor do Cardápio</strong>: "+parseFloat(a).toFixed(2)+"<br><strong>Valor da Referência</strong>: "+parseFloat(e).toFixed(2))):($(i).removeClass(),adicionaClasse(i,"badge bg-red"),$(i).empty(),$(i).html(o.toFixed(1)+" %"),$(i).attr("data-content","<strong>Valor do Cardápio</strong>: "+parseFloat(a).toFixed(2)+"<br><strong>Valor da Referência</strong>: "+parseFloat(e).toFixed(2)))}function validaListaVazia(a){var e=$("#li_1").hasClass("disabled"),i=$("#li_2").hasClass("disabled"),o=$("#li_3").hasClass("disabled"),t=$("#li_4").hasClass("disabled"),r=$("#li_5").hasClass("disabled"),d=$("#li_6").hasClass("disabled"),s=!1;return 1!=a||0!=listaTamanho1||e||(notificacao_alerta("A lista de Itens da Segunda-Feira está <b>Vazia</b>."),s=!0),2!=a||0!=listaTamanho2||i||(notificacao_alerta("A lista de tens da Terça-Feira está <b>Vazia</b>."),s=!0),3!=a||0!=listaTamanho3||o||(notificacao_alerta("A lista de tens da Quarta-Feira está <b>Vazia</b>."),s=!0),4!=a||0!=listaTamanho4||t||(notificacao_alerta("A lista de tens da Quinta-Feira está <b>Vazia</b>."),s=!0),5!=a||0!=listaTamanho5||r||(notificacao_alerta("A lista de tens da Sexta-Feira está <b>Vazia</b>."),s=!0),6!=a||0!=listaTamanho6||d||(notificacao_alerta("A lista de tens do Sábado está <b>Vazia</b>."),s=!0),s}function limparCamposItem(a){0!=$("#select_tipo_refeicao"+a).val()&&0!=$("#select_modalidade").val()&&0!=$("#select_escola").val()||($("#select_fonte"+a).empty(),$("#select_fonte"+a).html('<option value="0">Selecione uma opção</option>')),$("#select_fonte"+a).val(0),$("#select_item_add"+a).val(0),$("#select_item_add"+a).selectpicker("refresh"),$("#select_medida"+a).empty(),$("#select_medida"+a).html('<option value="0">Selecione uma opção</option>'),$("#p_liquido"+a).val(parseFloat(0).toFixed(3)),$("#p_liquido"+a).prop("disabled",!0)}function criaImportacao(){if("undefined"!=typeof cardapios)for(var a in $("#import_table tbody tr").remove(),cardapios){var e=$("<tr>"),i="";i+='<td class="col-xs-10"><font size=1><strong>'+cardapios[a].nome+"</font></strong></td>",i+='<td class="col-xs-2"><h5 class="text-right"><a class="btn btn-xs btn-success" href="'+APP_URL+"/menu/"+cardapios[a].id+'/import"><i class="fas fa-arrow-right"></i></a></h5></td>',e.append(i),$("#import_table").append(e)}}function criaOpcaoRefeicoes(a){var e='<option value="0">Selecione uma opção</option>';if("undefined"!=typeof tipo_refeicoes)for(var i in tipo_refeicoes)e+='<option value="'+tipo_refeicoes[i].id+'">'+tipo_refeicoes[i].nome+"</option>";else mostraDialogo("<strong>Por favor, primeiro cadastre um Tipo de Refeição.</strong>","info",4e3,"info");$("#select_tipo_refeicao"+a).empty(),$("#select_tipo_refeicao"+a).html(e)}function criaOpcaoRefeicoesEdit(){var a='<option value="0">Selecione uma opção</option>';if("undefined"!=typeof tipo_refeicoes)for(var e in tipo_refeicoes)a+='<option value="'+tipo_refeicoes[e].id+'">'+tipo_refeicoes[e].nome+"</option>";else mostraDialogo("<strong>Por favor, primeiro cadastre um Tipo de Refeição.</strong>","info",4e3,"info");$("#select_tipo_refeicao_edit").empty(),$("#select_tipo_refeicao_edit").html(a)}$(document).ready(function(a){if(criaImportacao(),a(function(){var e=a("#id_form").serialize();a("#confBotaoEnviar").click(function(){window.onbeforeunload=null}),a("#confBotaoEnviarUpdate").click(function(){window.onbeforeunload=null}),a("#btn_cancelar").click(function(){window.onbeforeunload=null}),a(".btn").click(function(){window.onbeforeunload=null}),window.onbeforeunload=function(){return a("#id_form").serialize()===e?null:"Os dados do formulário não foram salvos, deseja permanecer nesta página?"}}),a("#p_liquido1").mask("0000.000",{reverse:!0}),a("#p_liquido2").mask("0000.000",{reverse:!0}),a("#p_liquido3").mask("0000.000",{reverse:!0}),a("#p_liquido4").mask("0000.000",{reverse:!0}),a("#p_liquido5").mask("0000.000",{reverse:!0}),a("#p_liquido6").mask("0000.000",{reverse:!0}),a('[data-toggle="popover"]').popover(),a("#select_item_add1").selectpicker(),a("#select_item_add2").selectpicker(),a("#select_item_add3").selectpicker(),a("#select_item_add4").selectpicker(),a("#select_item_add5").selectpicker(),a("#select_item_add6").selectpicker(),!window.localStorage.getItem("popup-exibida"+user)){a("#Responsivo").popover({trigger:"manual",container:"#div_import",placement:"my-popover",html:!0,sanitize:!1,title:"Importar Cardápio",content:a("#div-popover").html()}).popover("show");var e=!1;a("body").on("click","#defaultCheck1",function(){e=a(this).is(":checked")}),a(document).on("click","#close",function(){a("#Responsivo").popover("hide"),e&&window.localStorage.setItem("popup-exibida"+user,"1")})}function o(e){var i=a("#select_tipo_item"+e);i.empty(),i.html('<option value="0">Selecione uma opção</option><option value= "1">Alimento</option><option value= "2">Preparação</option>')}function t(e){var o=a("#select_fonte"+e);o.empty();var t='<option value="0">Todas as Fontes</option>';if(fontes)for(i in fontes)t+='<option value= "'+fontes[i].id+'">'+fontes[i].nome+"</option>";o.empty(),o.html(t)}function r(e){var o=a("#select_fonte_edit");o.empty();var t='<option value="0">Todas as Fontes</option>';if(fontes)for(i in fontes)t+='<option value= "'+fontes[i].id+'">'+fontes[i].nome+"</option>";o.empty(),o.html(t)}function s(e){var o=a("#select_item_add"+e),t=a("#select_tipo_item"+e).val(),r=a("#select_fonte"+e).val(),d=0;o.empty();var s='<option value="0">Selecione uma opção</option>';if(1==t){if(itens)if(r>0)for(i in itens)for(j in fontes)itens[i].id_fonte==r&&itens[i].id_fonte==fontes[j].id&&(s+='<option value= "'+itens[i].id+'">'+itens[i].nome+"</option>");else for(i in itens)for(j in fontes)itens[i].id_fonte==fontes[j].id&&(s+='<option value= "'+itens[i].id+'">'+itens[i].nome+"</option>")}else if(2==t&&view_preparacoes)for(i in view_preparacoes)view_preparacoes[i].id_preparacao!=d&&(s+='<option value= "'+view_preparacoes[i].id_preparacao+'">'+view_preparacoes[i].nome_preparacao+"</option>",d=view_preparacoes[i].id_preparacao);o.html(s),o.selectpicker("refresh")}function l(){var e=a("#select_item_add_edit"),o=a("#select_tipo_item_edit").val(),t=a("#select_fonte_edit").val(),r=0;e.empty();var d='<option value="0">Selecione uma opção</option>';if(1==o){if(itens)if(t>0)for(i in itens)for(j in fontes)itens[i].id_fonte==t&&itens[i].id_fonte==fontes[j].id&&(d+='<option value= "'+itens[i].id+'">'+itens[i].nome+"</option>");else for(i in itens)for(j in fontes)itens[i].id_fonte==fontes[j].id&&(d+='<option value= "'+itens[i].id+'">'+itens[i].nome+"</option>")}else if(2==o){if(view_preparacoes)for(i in view_preparacoes)view_preparacoes[i].id_preparacao!=r&&(d+='<option value= "'+view_preparacoes[i].id_preparacao+'">'+view_preparacoes[i].nome_preparacao+"</option>",r=view_preparacoes[i].id_preparacao)}else mostraDialogo("<strong>Por favor, primeiro cadastre um Alimento.</strong>","info",4e3,"info");e.html(d),e.selectpicker("refresh")}function n(a,e){for(var i=1;i<=6;i++)i==a.getDay()?(removeClasse("#li_"+i,"disabled"),adicionaClasse("#li_"+i,"active"),adicionaAtributo("#a_"+i,"data-toggle","tab"),adicionaClasse("#tab_"+i,"active")):i>a.getDay()&&i<=e.getDay()?(removeClasse("#li_"+i,"disabled"),removeClasse("#li_"+i,"active"),adicionaAtributo("#a_"+i,"data-toggle","tab"),removeClasse("#tab_"+i,"active")):(removeAtributo("#a_"+i,"data-toggle"),removeClasse("#li_"+i,"active"),removeClasse("#tab_"+i,"active"),adicionaClasse("#li_"+i,"disabled"))}function p(){var e=new Date;if(separa=a("#reservation").val().split(" - "),data=moment(separa[0],"DD/MM/YYYY"),data2=moment(separa[1],"DD/MM/YYYY"),arr=data.format("YYYY-MM-DD"),arr2=data2.format("YYYY-MM-DD"),partes=arr.match(/(\d+)/g),partes2=arr2.match(/(\d+)/g),d=new Date(partes[0],partes[1]-1,partes[2],(new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds(),(new Date).getMilliseconds()),d2=new Date(partes2[0],partes2[1]-1,partes2[2]),numero_dias=Math.abs(d2.getDay()-d.getDay())+1,d.getDay()==d2.getDay()&&d.getMonth()==d2.getMonth()&&d.getDay()>0&&d>=e&&parseInt(partes2[2])-parseInt(partes[2])<=5){for(var i=1;i<=6;i++)criaOpcaoRefeicoes(i),i==d.getDay()?(removeClasse("#li_"+i,"disabled"),adicionaClasse("#li_"+i,"active"),adicionaAtributo("#a_"+i,"data-toggle","tab"),adicionaClasse("#tab_"+i,"active")):a('var[class="idItem'+i+'"]').html()>0?(notificacao_alerta("Exclua os itens do cardápio de  <b>"+semana[i]+"</b>."),a("#reservation").data("daterangepicker").setStartDate(oldDatai),a("#reservation").data("daterangepicker").setEndDate(oldDataf),arr=datai.format("YYYY-MM-DD"),arr2=dataf.format("YYYY-MM-DD"),partes=arr.match(/(\d+)/g),partes2=arr2.match(/(\d+)/g),d=new Date(partes[0],partes[1]-1,partes[2],(new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds(),(new Date).getMilliseconds()),d2=new Date(partes2[0],partes2[1]-1,partes2[2]),n(d,d2)):(removeAtributo("#a_"+i,"data-toggle"),removeClasse("#li_"+i,"active"),removeClasse("#tab_"+i,"active"),adicionaClasse("#li_"+i,"disabled"));return oldData=a("#reservation").val().split(" - "),datai=moment(oldData[0],"DD/MM/YYYY"),dataf=moment(oldData[1],"DD/MM/YYYY"),oldDatai=moment(datai.format("YYYY-MM-DD"),"YYYY-MM-DD"),oldDataf=moment(dataf.format("YYYY-MM-DD"),"YYYY-MM-DD"),!1}if(d.getDay()<d2.getDay()&&d.getMonth()==d2.getMonth()&&d.getDay()>0&&d>=e&&parseInt(partes2[2])-parseInt(partes[2])<=5){for(i=1;i<=6;i++)criaOpcaoRefeicoes(i),i==d.getDay()?(removeClasse("#li_"+i,"disabled"),adicionaClasse("#li_"+i,"active"),adicionaAtributo("#a_"+i,"data-toggle","tab"),adicionaClasse("#tab_"+i,"active")):i>d.getDay()&&i<=d2.getDay()?(removeClasse("#li_"+i,"disabled"),removeClasse("#li_"+i,"active"),adicionaAtributo("#a_"+i,"data-toggle","tab"),removeClasse("#tab_"+i,"active")):a('var[class="idItem'+i+'"]').html()>0?(notificacao_alerta("Exclua os itens do cardápio de <b>"+semana[i]+"</b>."),a("#reservation").data("daterangepicker").setStartDate(oldDatai),a("#reservation").data("daterangepicker").setEndDate(oldDataf),a("#reservation").data("daterangepicker").setStartDate(oldDatai),a("#reservation").data("daterangepicker").setEndDate(oldDataf),arr=datai.format("YYYY-MM-DD"),arr2=dataf.format("YYYY-MM-DD"),partes=arr.match(/(\d+)/g),partes2=arr2.match(/(\d+)/g),d=new Date(partes[0],partes[1]-1,partes[2],(new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds(),(new Date).getMilliseconds()),d2=new Date(partes2[0],partes2[1]-1,partes2[2]),n(d,d2)):(removeAtributo("#a_"+i,"data-toggle"),removeClasse("#li_"+i,"active"),removeClasse("#tab_"+i,"active"),adicionaClasse("#li_"+i,"disabled"));return oldData=a("#reservation").val().split(" - "),datai=moment(oldData[0],"DD/MM/YYYY"),dataf=moment(oldData[1],"DD/MM/YYYY"),oldDatai=moment(datai.format("YYYY-MM-DD"),"YYYY-MM-DD"),oldDataf=moment(dataf.format("YYYY-MM-DD"),"YYYY-MM-DD"),!1}if(d.getDay()<d2.getDay()&&d.getMonth()<d2.getMonth()&&d.getDay()>0&&d>=e&&diasNoMes(d.getMonth()+1,d.getYear())-parseInt(partes[2])+parseInt(partes2[2])<=5){for(i=1;i<=6;i++)criaOpcaoRefeicoes(i),i==d.getDay()?(removeClasse("#li_"+i,"disabled"),adicionaClasse("#li_"+i,"active"),adicionaAtributo("#a_"+i,"data-toggle","tab"),adicionaClasse("#tab_"+i,"active")):i>d.getDay()&&i<=d2.getDay()?(removeClasse("#li_"+i,"disabled"),removeClasse("#li_"+i,"active"),adicionaAtributo("#a_"+i,"data-toggle","tab"),removeClasse("#tab_"+i,"active")):a('var[class="idItem'+i+'"]').html()>0?(notificacao_alerta("Exclua os itens do cardápio de <b>"+semana[i]+"</b>."),a("#reservation").data("daterangepicker").setStartDate(oldDatai),a("#reservation").data("daterangepicker").setEndDate(oldDataf),a("#reservation").data("daterangepicker").setStartDate(oldDatai),a("#reservation").data("daterangepicker").setEndDate(oldDataf),arr=datai.format("YYYY-MM-DD"),arr2=dataf.format("YYYY-MM-DD"),partes=arr.match(/(\d+)/g),partes2=arr2.match(/(\d+)/g),d=new Date(partes[0],partes[1]-1,partes[2],(new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds(),(new Date).getMilliseconds()),d2=new Date(partes2[0],partes2[1]-1,partes2[2]),n(d,d2)):(removeAtributo("#a_"+i,"data-toggle"),removeClasse("#li_"+i,"active"),removeClasse("#tab_"+i,"active"),adicionaClasse("#li_"+i,"disabled"));return oldData=a("#reservation").val().split(" - "),datai=moment(oldData[0],"DD/MM/YYYY"),dataf=moment(oldData[1],"DD/MM/YYYY"),oldDatai=moment(datai.format("YYYY-MM-DD"),"YYYY-MM-DD"),oldDataf=moment(dataf.format("YYYY-MM-DD"),"YYYY-MM-DD"),!1}return notificacao_alerta("Data(s)  <b>Inválida(s)</b>."),a("#reservation").data("daterangepicker").setStartDate(oldDatai),a("#reservation").data("daterangepicker").setEndDate(oldDataf),separa=a("#reservation").val().split(" - "),data=moment(separa[0],"DD/MM/YYYY"),data2=moment(separa[1],"DD/MM/YYYY"),arr=data.format("YYYY-MM-DD"),arr2=data2.format("YYYY-MM-DD"),partes=arr.match(/(\d+)/g),partes2=arr2.match(/(\d+)/g),d=new Date(partes[0],partes[1]-1,partes[2],(new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds(),(new Date).getMilliseconds()),d2=new Date(partes2[0],partes2[1]-1,partes2[2]),semana=["Domingo","Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"],numero_dias=Math.abs(d2.getDay()-d.getDay())+1,n(d,d2),!0}function _(e){var i=a("#select_medida"+e),o=a("#select_item_add"+e).val(),t=a("#select_tipo_item"+e);i.empty();var r='<option value="0">Selecione uma opção</option>';if("undefined"!=typeof itens&&null!=itens.hasOwnProperty(o)&&(r+='<option value="1">g</option>'),o>0)for(var d in medidas_itens)null!=medidas_itens.hasOwnProperty(d)&&medidas_itens[d].id_item==o&&(r+='<option value="'+medidas_itens[d].id+'">'+medidas_itens[d].nome_medida+"</option>");if(i.empty(),i.html(r),2==t.val())for(var d in i.empty(),i.html('<option value="1" option:selected>g</option>'),view_preparacoes)o==view_preparacoes[d].id_preparacao&&a("#p_liquido"+e).val(view_preparacoes[d].medida_total)}function c(e){var i=a("#select_item_add"+e),o=a("#select_tipo_item"+e);i.val()>=1&&1==o.val()?removeAtributo("#select_medida"+e,"disabled"):i.val()>=1&&2==o.val()?(removeAtributo("#select_medida"+e,"disabled"),removeAtributo("#p_liquido"+e,"disabled")):(adicionaAtributo("#select_medida"+e,"disabled",""),adicionaAtributo("#p_liquido"+e,"disabled",""),a("#select_medida"+e).empty(),a("#select_medida"+e).html('<option value="0">Selecione uma opção</option>'))}function m(){a("#import_table tbody tr").remove(),a("#import_table").append('<tr><td colspan= "2">Não há itens para exibir.</td></tr>'),limparCamposItem(1),limparCamposItem(2),limparCamposItem(3),limparCamposItem(4),limparCamposItem(5),limparCamposItem(6),a("#fieldset_1").prop("disabled",!0),a("#fieldset_2").prop("disabled",!0),a("#fieldset_3").prop("disabled",!0),a("#fieldset_4").prop("disabled",!0),a("#fieldset_5").prop("disabled",!0),a("#fieldset_6").prop("disabled",!0),a("#select_tipo_refeicao1").empty(),a("#select_tipo_refeicao2").empty(),a("#select_tipo_refeicao3").empty(),a("#select_tipo_refeicao4").empty(),a("#select_tipo_refeicao5").empty(),a("#select_tipo_refeicao6").empty(),a("#select_tipo_refeicao1").html('<option value="0">Selecione uma opção</option>'),a("#select_tipo_refeicao2").html('<option value="0">Selecione uma opção</option>'),a("#select_tipo_refeicao3").html('<option value="0">Selecione uma opção</option>'),a("#select_tipo_refeicao4").html('<option value="0">Selecione uma opção</option>'),a("#select_tipo_refeicao5").html('<option value="0">Selecione uma opção</option>'),a("#select_tipo_refeicao6").html('<option value="0">Selecione uma opção</option>'),a("#select_tipo_refeicao1").val(0),a("#select_tipo_refeicao2").val(0),a("#select_tipo_refeicao3").val(0),a("#select_tipo_refeicao4").val(0),a("#select_tipo_refeicao5").val(0),a("#select_tipo_refeicao6").val(0),b(1),b(2),b(3),b(4),b(5),b(6),a("#calorias").val(parseFloat(0).toFixed(3)),a("#carboidratos").val(parseFloat(0).toFixed(3)),a("#proteinas").val(parseFloat(0).toFixed(3)),a("#lipidios").val(parseFloat(0).toFixed(3)),a("#fibras").val(parseFloat(0).toFixed(3)),a("#vitamina_a").val(parseFloat(0).toFixed(3)),a("#vitamina_c").val(parseFloat(0).toFixed(3)),a("#vitamina_d").val(parseFloat(0).toFixed(3)),a("#vitamina_e").val(parseFloat(0).toFixed(3)),a("#vitamina_b1").val(parseFloat(0).toFixed(3)),a("#vitamina_b2").val(parseFloat(0).toFixed(3)),a("#vitamina_b6").val(parseFloat(0).toFixed(3)),a("#vitamina_b12").val(parseFloat(0).toFixed(3)),a("#niacina").val(parseFloat(0).toFixed(3)),a("#folico").val(parseFloat(0).toFixed(3)),a("#pantotenico").val(parseFloat(0).toFixed(3)),a("#calcio").val(parseFloat(0).toFixed(3)),a("#ferro").val(parseFloat(0).toFixed(3)),a("#magnesio").val(parseFloat(0).toFixed(3)),a("#potassio").val(parseFloat(0).toFixed(3)),a("#selenio").val(parseFloat(0).toFixed(3)),a("#fosforo").val(parseFloat(0).toFixed(3)),a("#iodo").val(parseFloat(0).toFixed(3)),a("#cobre").val(parseFloat(0).toFixed(3)),a("#zinco").val(parseFloat(0).toFixed(3)),a("#sodio").val(parseFloat(0).toFixed(3)),a("#gordura_total").val(parseFloat(0).toFixed(3)),a("#colesterol").val(parseFloat(0).toFixed(3)),a("#gordura_saturada").val(parseFloat(0).toFixed(3)),a("#gordura_poliinsaturada").val(parseFloat(0).toFixed(3)),a("#gordura_monoinsaturada").val(parseFloat(0).toFixed(3)),a("#table_cardapio tbody tr").remove(),a("#nome_referencia").empty(),a("#descricao_referencia").empty(),a("#categoria_referencia").empty(),a("#idade_referencia").empty(),a("#nome_referencia").html(""),a("#descricao_referencia").html(""),a("#categoria_referencia").html(""),a("#idade_referencia").html(""),a("#calorias_ref").val(parseFloat(0).toFixed(3)),a("#carboidratos_ref").val(parseFloat(0).toFixed(3)),a("#proteinas_ref").val(parseFloat(0).toFixed(3)),a("#lipidios_ref").val(parseFloat(0).toFixed(3)),a("#fibras_ref").val(parseFloat(0).toFixed(3)),a("#vitamina_a_ref").val(parseFloat(0).toFixed(3)),a("#vitamina_c_ref").val(parseFloat(0).toFixed(3)),a("#vitamina_e_ref").val(parseFloat(0).toFixed(3)),a("#vitamina_d_ref").val(parseFloat(0).toFixed(3)),a("#vitamina_b1_ref").val(parseFloat(0).toFixed(3)),a("#vitamina_b2_ref").val(parseFloat(0).toFixed(3)),a("#vitamina_b6_ref").val(parseFloat(0).toFixed(3)),a("#vitamina_b12_ref").val(parseFloat(0).toFixed(3)),a("#niacina_ref").val(parseFloat(0).toFixed(3)),a("#folico_ref").val(parseFloat(0).toFixed(3)),a("#pantotenico_ref").val(parseFloat(0).toFixed(3)),a("#calcio_ref").val(parseFloat(0).toFixed(3)),a("#ferro_ref").val(parseFloat(0).toFixed(3)),a("#magnesio_ref").val(parseFloat(0).toFixed(3)),a("#potassio_ref").val(parseFloat(0).toFixed(3)),a("#selenio_ref").val(parseFloat(0).toFixed(3)),a("#fosforo_ref").val(parseFloat(0).toFixed(3)),a("#iodo_ref").val(parseFloat(0).toFixed(3)),a("#cobre_ref").val(parseFloat(0).toFixed(3)),a("#zinco_ref").val(parseFloat(0).toFixed(3)),a("#sodio_ref").val(parseFloat(0).toFixed(3)),a("#gordura_total_ref").val(parseFloat(0).toFixed(3)),a("#colesterol_ref").val(parseFloat(0).toFixed(3)),a("#gordura_saturada_ref").val(parseFloat(0).toFixed(3)),a("#gordura_poliinsaturada_ref").val(parseFloat(0).toFixed(3)),a("#gordura_monoinsaturada_ref").val(parseFloat(0).toFixed(3)),carboidratos=0,proteinas=0,lipidios=0,fibras=0,vitamina_a=0,vitamina_c=0,vitamina_d=0,vitamina_e=0,vitamina_b1=0,vitamina_b2=0,vitamina_b6=0,vitamina_b12=0,niacina=0,folico=0,pantotenico=0,calcio=0,ferro=0,magnesio=0,potassio=0,selenio=0,fosforo=0,iodo=0,cobre=0,zinco=0,sodio=0,gordura_total=0,colesterol=0,gordura_saturada=0,gordura_poliinsaturada=0,gordura_monoinsaturada=0,valor=0,atualizaTabelaReferencia((energia=0)/numero_dias,0,"#span_p_calorias"),atualizaTabelaReferencia(carboidratos/numero_dias,0,"#span_p_carboidratos"),atualizaTabelaReferencia(proteinas/numero_dias,0,"#span_p_proteinas"),atualizaTabelaReferencia(lipidios/numero_dias,0,"#span_p_lipidios"),atualizaTabelaReferencia(fibras/numero_dias,0,"#span_p_fibras"),atualizaTabelaReferencia(vitamina_a/numero_dias,0,"#span_p_vit_a"),atualizaTabelaReferencia(vitamina_c/numero_dias,0,"#span_p_vit_c"),atualizaTabelaReferencia(vitamina_d/numero_dias,0,"#span_p_vit_d"),atualizaTabelaReferencia(vitamina_e/numero_dias,0,"#span_p_vit_e"),atualizaTabelaReferencia(vitamina_b1/numero_dias,0,"#span_p_vit_b1"),atualizaTabelaReferencia(vitamina_b2/numero_dias,0,"#span_p_vit_b2"),atualizaTabelaReferencia(vitamina_b6/numero_dias,0,"#span_p_vit_b6"),atualizaTabelaReferencia(vitamina_b12/numero_dias,0,"#span_p_vit_b12"),atualizaTabelaReferencia(niacina/numero_dias,0,"#span_p_niacina"),atualizaTabelaReferencia(folico/numero_dias,0,"#span_p_folico"),atualizaTabelaReferencia(pantotenico/numero_dias,0,"#span_p_pantotenico"),atualizaTabelaReferencia(calcio/numero_dias,0,"#span_p_calcio"),atualizaTabelaReferencia(ferro/numero_dias,0,"#span_p_ferro"),atualizaTabelaReferencia(magnesio/numero_dias,0,"#span_p_magnesio"),atualizaTabelaReferencia(potassio/numero_dias,0,"#span_p_potassio"),atualizaTabelaReferencia(selenio/numero_dias,0,"#span_p_selenio"),atualizaTabelaReferencia(fosforo/numero_dias,0,"#span_p_fosforo"),atualizaTabelaReferencia(iodo/numero_dias,0,"#span_p_iodo"),atualizaTabelaReferencia(cobre/numero_dias,0,"#span_p_cobre"),atualizaTabelaReferencia(zinco/numero_dias,0,"#span_p_zinco"),atualizaTabelaReferencia(sodio/numero_dias,0,"#span_p_sodio"),atualizaTabelaReferencia(gordura_total/numero_dias,0,"#span_p_g_total"),atualizaTabelaReferencia(colesterol/numero_dias,0,"#span_p_colesterol"),atualizaTabelaReferencia(gordura_saturada/numero_dias,0,"#span_p_g_saturada"),atualizaTabelaReferencia(gordura_poliinsaturada/numero_dias,0,"#span_p_g_poliinsaturada"),atualizaTabelaReferencia(gordura_monoinsaturada/numero_dias,0,"#span_p_g_monoinsaturada");for(var e=1;e<=6;e++)a("#listaItens"+e).empty(),a("#listaVazia"+e).show();listaVazia1=!0,listaVazia2=!0,listaVazia3=!0,listaVazia4=!0,listaVazia5=!0,listaVazia6=!0,listaTamanho1=0,listaTamanho2=0,listaTamanho3=0,listaTamanho4=0,listaTamanho5=0,listaTamanho6=0}function F(e){var i=!1,o=a("#select_tipo_refeicao"+e+" option:selected"),t=a("#select_tipo_item"+e+" option:selected"),r=a("#select_fonte"+e+" option:selected"),d=a("#select_item_add"+e+" option:selected"),s=a("#select_medida"+e+" option:selected"),l=a("#p_liquido"+e);if(o.val()<=0)i=!0,notificacao_alerta("Selecine uma <b>Refeição</b>.");else if(r.val()<0)i=!0,notificacao_alerta("Selecine a <b>Fonte do Item</b>.");else if(s.val()<=0)i=!0,notificacao_alerta("Selecine uma Unidade de Medida para o <b>Item</b>.");else if(0==l.val())i=!0,notificacao_alerta("Insira uma Quantidade Per Capta válida para o <b>Item</b>.");else if(d.val()<=0)i=!0,notificacao_alerta("Selecine um <b>Item</b>.");else for(var n=a('var[class="idItem'+e+'"]'),p=a('var[class="idTipoItem'+e+'"]'),_=a('var[class="idRefeicao'+e+'"]'),c=0;c<n.length;c++)if(a(p[c]).html()==t.val()&&a(n[c]).html()==d.val()&&a(_[c]).html()==o.val())return i=!0,notificacao_alerta("<b>Itens iguais</b> estão sendo adicionados."),i;return i}function v(e){var i="",o=a("#select_tipo_refeicao"+e+" option:selected"),t=a("#select_tipo_item"+e+" option:selected"),r=a("#select_fonte"+e+" option:selected"),d=a("#select_item_add"+e+" option:selected"),s=a("#select_medida"+e+" option:selected");if(s.val()>1)for(var l in medidas_itens)null!=medidas_itens.hasOwnProperty(l)&&medidas_itens[l].id==s.val()&&(a("#select_medida"+e).val(medidas_itens[l].unidade_medida),s=a("#select_medida"+e+" option:selected"));var n=a("#p_liquido"+e);for(var l in tipo_refeicoes)tipo_refeicoes[l].id==o.val()&&(horario=tipo_refeicoes[l].horario.split(":"),i=60*horario[0]+horario[1]);if(1==t.val())for(var l in itens)null!=itens.hasOwnProperty(l)&&itens[l].id==d.val()&&(energia=parseFloat(energia.toFixed(3))+parseFloat((itens[l].calorias*n.val()/itens[l].medida_base).toFixed(3)),carboidratos=parseFloat(carboidratos.toFixed(3))+parseFloat((itens[l].carboidratos*n.val()/itens[l].medida_base).toFixed(3)),proteinas=parseFloat(proteinas.toFixed(3))+parseFloat((itens[l].proteinas*n.val()/itens[l].medida_base).toFixed(3)),lipidios=parseFloat(lipidios.toFixed(3))+parseFloat((itens[l].lipidios*n.val()/itens[l].medida_base).toFixed(3)),fibras=parseFloat(fibras.toFixed(3))+parseFloat((itens[l].fibras*n.val()/itens[l].medida_base).toFixed(3)),vitamina_a=parseFloat(vitamina_a.toFixed(3))+parseFloat((itens[l].vitamina_a*n.val()/itens[l].medida_base).toFixed(3)),vitamina_c=parseFloat(vitamina_c.toFixed(3))+parseFloat((itens[l].vitamina_c*n.val()/itens[l].medida_base).toFixed(3)),vitamina_d=parseFloat(vitamina_d.toFixed(3))+parseFloat((itens[l].vitamina_d*n.val()/itens[l].medida_base).toFixed(3)),vitamina_e=parseFloat(vitamina_e.toFixed(3))+parseFloat((itens[l].vitamina_e*n.val()/itens[l].medida_base).toFixed(3)),vitamina_b1=parseFloat(vitamina_b1.toFixed(3))+parseFloat((itens[l].vitamina_b1*n.val()/itens[l].medida_base).toFixed(3)),vitamina_b2=parseFloat(vitamina_b2.toFixed(3))+parseFloat((itens[l].vitamina_b2*n.val()/itens[l].medida_base).toFixed(3)),vitamina_b6=parseFloat(vitamina_b6.toFixed(3))+parseFloat((itens[l].vitamina_b6*n.val()/itens[l].medida_base).toFixed(3)),vitamina_b12=parseFloat(vitamina_b12.toFixed(3))+parseFloat((itens[l].vitamina_b12*n.val()/itens[l].medida_base).toFixed(3)),niacina=parseFloat(niacina.toFixed(3))+parseFloat((itens[l].niacina*n.val()/itens[l].medida_base).toFixed(3)),folico=parseFloat(folico.toFixed(3))+parseFloat((itens[l].folico*n.val()/itens[l].medida_base).toFixed(3)),pantotenico=parseFloat(pantotenico.toFixed(3))+parseFloat((itens[l].pantotenico*n.val()/itens[l].medida_base).toFixed(3)),calcio=parseFloat(calcio.toFixed(3))+parseFloat((itens[l].calcio*n.val()/itens[l].medida_base).toFixed(3)),ferro=parseFloat(ferro.toFixed(3))+parseFloat((itens[l].ferro*n.val()/itens[l].medida_base).toFixed(3)),magnesio=parseFloat(magnesio.toFixed(3))+parseFloat((itens[l].magnesio*n.val()/itens[l].medida_base).toFixed(3)),potassio=parseFloat(potassio.toFixed(3))+parseFloat((itens[l].potassio*n.val()/itens[l].medida_base).toFixed(3)),selenio=parseFloat(selenio.toFixed(3))+parseFloat((itens[l].selenio*n.val()/itens[l].medida_base).toFixed(3)),fosforo=parseFloat(fosforo.toFixed(3))+parseFloat((itens[l].fosforo*n.val()/itens[l].medida_base).toFixed(3)),iodo=parseFloat(iodo.toFixed(3))+parseFloat((itens[l].iodo*n.val()/itens[l].medida_base).toFixed(3)),cobre=parseFloat(cobre.toFixed(3))+parseFloat((itens[l].cobre*n.val()/itens[l].medida_base).toFixed(3)),zinco=parseFloat(zinco.toFixed(3))+parseFloat((itens[l].zinco*n.val()/itens[l].medida_base).toFixed(3)),sodio=parseFloat(sodio.toFixed(3))+parseFloat((itens[l].sodio*n.val()/itens[l].medida_base).toFixed(3)),gordura_total=parseFloat(gordura_total.toFixed(3))+parseFloat((itens[l].gordura_total*n.val()/itens[l].medida_base).toFixed(3)),colesterol=parseFloat(colesterol.toFixed(3))+parseFloat((itens[l].colesterol*n.val()/itens[l].medida_base).toFixed(3)),gordura_saturada=parseFloat(gordura_saturada.toFixed(3))+parseFloat((itens[l].gordura_saturada*n.val()/itens[l].medida_base).toFixed(3)),gordura_poliinsaturada=parseFloat(gordura_poliinsaturada.toFixed(3))+parseFloat((itens[l].gordura_poliinsaturada*n.val()/itens[l].medida_base).toFixed(3)),gordura_monoinsaturada=parseFloat(gordura_monoinsaturada.toFixed(3))+parseFloat((itens[l].gordura_monoinsaturada*n.val()/itens[l].medida_base).toFixed(3)),valor=parseFloat(valor.toFixed(2))+parseFloat((itens[l].valor*n.val()/itens[l].medida_base).toFixed(2)));var p=0,_=0,c=0,m=0,F=0,v=0,u=0,f=0,b=0,x=0,w=0,g=0,h=0,D=0,z=0,T=0,y=0,R=0,q=0,Y=0,M=0,$=0,S=0,C=0,I=0,k=0,A=0,V=0,E=0,O=0,P=0,N=0;if(2==t.val()){var L=0;for(var l in view_preparacoes)null!=view_preparacoes.hasOwnProperty(l)&&view_preparacoes[l].id_preparacao==d.val()&&(L=l,p=parseFloat(p.toFixed(3))+parseFloat((view_preparacoes[l].calorias*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),_=parseFloat(_.toFixed(3))+parseFloat((view_preparacoes[l].carboidratos*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),c=parseFloat(c.toFixed(3))+parseFloat((view_preparacoes[l].proteinas*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),m=parseFloat(m.toFixed(3))+parseFloat((view_preparacoes[l].lipidios*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),F=parseFloat(F.toFixed(3))+parseFloat((view_preparacoes[l].fibras*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),v=parseFloat(v.toFixed(3))+parseFloat((view_preparacoes[l].vitamina_a*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),u=parseFloat(u.toFixed(3))+parseFloat((view_preparacoes[l].vitamina_c*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),f=parseFloat(f.toFixed(3))+parseFloat((view_preparacoes[l].vitamina_d*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),b=parseFloat(b.toFixed(3))+parseFloat((view_preparacoes[l].vitamina_e*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),x=parseFloat(x.toFixed(3))+parseFloat((view_preparacoes[l].vitamina_b1*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),w=parseFloat(w.toFixed(3))+parseFloat((view_preparacoes[l].vitamina_b2*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),g=parseFloat(g.toFixed(3))+parseFloat((view_preparacoes[l].vitamina_b6*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),h=parseFloat(h.toFixed(3))+parseFloat((view_preparacoes[l].vitamina_b12*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),D=parseFloat(D.toFixed(3))+parseFloat((view_preparacoes[l].niacina*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),z=parseFloat(z.toFixed(3))+parseFloat((view_preparacoes[l].folico*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),T=parseFloat(T.toFixed(3))+parseFloat((view_preparacoes[l].pantotenico*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),y=parseFloat(y.toFixed(3))+parseFloat((view_preparacoes[l].calcio*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),R=parseFloat(R.toFixed(3))+parseFloat((view_preparacoes[l].ferro*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),q=parseFloat(q.toFixed(3))+parseFloat((view_preparacoes[l].magnesio*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),Y=parseFloat(Y.toFixed(3))+parseFloat((view_preparacoes[l].potassio*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),M=parseFloat(M.toFixed(3))+parseFloat((view_preparacoes[l].selenio*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),$=parseFloat($.toFixed(3))+parseFloat((view_preparacoes[l].fosforo*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),S=parseFloat(S.toFixed(3))+parseFloat((view_preparacoes[l].iodo*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),C=parseFloat(C.toFixed(3))+parseFloat((view_preparacoes[l].cobre*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),I=parseFloat(I.toFixed(3))+parseFloat((view_preparacoes[l].zinco*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),k=parseFloat(k.toFixed(3))+parseFloat((view_preparacoes[l].sodio*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),A=parseFloat(A.toFixed(3))+parseFloat((view_preparacoes[l].gordura_total*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),V=parseFloat(V.toFixed(3))+parseFloat((view_preparacoes[l].colesterol*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),E=parseFloat(E.toFixed(3))+parseFloat((view_preparacoes[l].gordura_saturada*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),O=parseFloat(O.toFixed(3))+parseFloat((view_preparacoes[l].gordura_poliinsaturada*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),P=parseFloat(P.toFixed(3))+parseFloat((view_preparacoes[l].gordura_monoinsaturada*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(3)),N=parseFloat(N.toFixed(2))+parseFloat((view_preparacoes[l].valor*view_preparacoes[l].p_liquido/view_preparacoes[l].medida_base).toFixed(2)));energia=parseFloat(energia.toFixed(3))+parseFloat((p*n.val()/view_preparacoes[L].medida_total).toFixed(3)),carboidratos=parseFloat(carboidratos.toFixed(3))+parseFloat((_*n.val()/view_preparacoes[L].medida_total).toFixed(3)),proteinas=parseFloat(proteinas.toFixed(3))+parseFloat((c*n.val()/view_preparacoes[L].medida_total).toFixed(3)),lipidios=parseFloat(lipidios.toFixed(3))+parseFloat((m*n.val()/view_preparacoes[L].medida_total).toFixed(3)),fibras=parseFloat(fibras.toFixed(3))+parseFloat((F*n.val()/view_preparacoes[L].medida_total).toFixed(3)),vitamina_a=parseFloat(vitamina_a.toFixed(3))+parseFloat((v*n.val()/view_preparacoes[L].medida_total).toFixed(3)),vitamina_c=parseFloat(vitamina_c.toFixed(3))+parseFloat((u*n.val()/view_preparacoes[L].medida_total).toFixed(3)),vitamina_d=parseFloat(vitamina_d.toFixed(3))+parseFloat((f*n.val()/view_preparacoes[L].medida_total).toFixed(3)),vitamina_e=parseFloat(vitamina_e.toFixed(3))+parseFloat((b*n.val()/view_preparacoes[L].medida_total).toFixed(3)),vitamina_b1=parseFloat(vitamina_b1.toFixed(3))+parseFloat((x*n.val()/view_preparacoes[L].medida_total).toFixed(3)),vitamina_b2=parseFloat(vitamina_b2.toFixed(3))+parseFloat((w*n.val()/view_preparacoes[L].medida_total).toFixed(3)),vitamina_b6=parseFloat(vitamina_b6.toFixed(3))+parseFloat((g*n.val()/view_preparacoes[L].medida_total).toFixed(3)),vitamina_b12=parseFloat(vitamina_b12.toFixed(3))+parseFloat((h*n.val()/view_preparacoes[L].medida_total).toFixed(3)),niacina=parseFloat(niacina.toFixed(3))+parseFloat((D*n.val()/view_preparacoes[L].medida_total).toFixed(3)),folico=parseFloat(folico.toFixed(3))+parseFloat((z*n.val()/view_preparacoes[L].medida_total).toFixed(3)),pantotenico=parseFloat(pantotenico.toFixed(3))+parseFloat((T*n.val()/view_preparacoes[L].medida_total).toFixed(3)),calcio=parseFloat(calcio.toFixed(3))+parseFloat((y*n.val()/view_preparacoes[L].medida_total).toFixed(3)),ferro=parseFloat(ferro.toFixed(3))+parseFloat((R*n.val()/view_preparacoes[L].medida_total).toFixed(3)),magnesio=parseFloat(magnesio.toFixed(3))+parseFloat((q*n.val()/view_preparacoes[L].medida_total).toFixed(3)),potassio=parseFloat(potassio.toFixed(3))+parseFloat((Y*n.val()/view_preparacoes[L].medida_total).toFixed(3)),selenio=parseFloat(selenio.toFixed(3))+parseFloat((M*n.val()/view_preparacoes[L].medida_total).toFixed(3)),fosforo=parseFloat(fosforo.toFixed(3))+parseFloat(($*n.val()/view_preparacoes[L].medida_total).toFixed(3)),iodo=parseFloat(iodo.toFixed(3))+parseFloat((S*n.val()/view_preparacoes[L].medida_total).toFixed(3)),cobre=parseFloat(cobre.toFixed(3))+parseFloat((C*n.val()/view_preparacoes[L].medida_total).toFixed(3)),zinco=parseFloat(zinco.toFixed(3))+parseFloat((I*n.val()/view_preparacoes[L].medida_total).toFixed(3)),sodio=parseFloat(sodio.toFixed(3))+parseFloat((k*n.val()/view_preparacoes[L].medida_total).toFixed(3)),gordura_total=parseFloat(gordura_total.toFixed(3))+parseFloat((A*n.val()/view_preparacoes[L].medida_total).toFixed(3)),colesterol=parseFloat(colesterol.toFixed(3))+parseFloat((V*n.val()/view_preparacoes[L].medida_total).toFixed(3)),gordura_saturada=parseFloat(gordura_saturada.toFixed(3))+parseFloat((E*n.val()/view_preparacoes[L].medida_total).toFixed(3)),gordura_poliinsaturada=parseFloat(gordura_poliinsaturada.toFixed(3))+parseFloat((O*n.val()/view_preparacoes[L].medida_total).toFixed(3)),gordura_monoinsaturada=parseFloat(gordura_monoinsaturada.toFixed(3))+parseFloat((P*n.val()/view_preparacoes[L].medida_total).toFixed(3)),valor=parseFloat(valor.toFixed(2))+parseFloat((N*n.val()/view_preparacoes[L].medida_total).toFixed(2))}var j='<div class="listaItem'+e+'" horario_ref="'+i+'"><li class="panel label-azul"><div class="row"><var class="idRefeicao'+e+'" style="display: none">'+o.val()+'</var><var class="idTipoItem'+e+'" style="display: none">'+t.val()+'</var><var class="idItem'+e+'" style="display: none">'+d.val()+'</var><var class="diaSemana'+e+'" style="display: none">'+e+'</var><var class="idFonte'+e+'" style="display: none">'+r.val()+'</var><var class="idMedida'+e+'" style="display: none">'+s.val()+'</var><var class="perCapta'+e+'" style="display: none">'+n.val()+'</var><div class="col-md-3 wrapper refeicao'+e+'" style="margin-top: 5px">'+o.text()+'</div><div class="col-md-5 wrapper item'+e+'" style="margin-top: 5px">'+d.text()+'</div><div class="col-md-2 wrapper medida'+e+'" style="margin-top: 5px">'+n.val()+' g</div><div class="col-md-1 text-center"><a class="btn btn-default botaoEditar'+e+'" data-toggle="modal" data-target="#editar_item"><i class="fa fa-edit"></i></a></div><div class="col-md-1 text-center"><button class="btn btn-danger botaoRemover'+e+' data-toggle="tooltip" data-placement="top" title="Excluir"><i class="fa fa-trash"></i></button></div></div></li></div>';atualizaTabelaReferencia(energia/numero_dias,referencia_modalidade.calorias,"#span_p_calorias"),atualizaTabelaReferencia(carboidratos/numero_dias,referencia_modalidade.carboidratos,"#span_p_carboidratos"),atualizaTabelaReferencia(proteinas/numero_dias,referencia_modalidade.proteinas,"#span_p_proteinas"),atualizaTabelaReferencia(lipidios/numero_dias,referencia_modalidade.lipidios,"#span_p_lipidios"),atualizaTabelaReferencia(fibras/numero_dias,referencia_modalidade.fibras,"#span_p_fibras"),atualizaTabelaReferencia(vitamina_a/numero_dias,referencia_modalidade.vitamina_a,"#span_p_vit_a"),atualizaTabelaReferencia(vitamina_c/numero_dias,referencia_modalidade.vitamina_c,"#span_p_vit_c"),atualizaTabelaReferencia(vitamina_d/numero_dias,referencia_modalidade.vitamina_d,"#span_p_vit_d"),atualizaTabelaReferencia(vitamina_e/numero_dias,referencia_modalidade.vitamina_e,"#span_p_vit_e"),atualizaTabelaReferencia(vitamina_b1/numero_dias,referencia_modalidade.vitamina_b1,"#span_p_vit_b1"),atualizaTabelaReferencia(vitamina_b2/numero_dias,referencia_modalidade.vitamina_b2,"#span_p_vit_b2"),atualizaTabelaReferencia(vitamina_b6/numero_dias,referencia_modalidade.vitamina_b6,"#span_p_vit_b6"),atualizaTabelaReferencia(vitamina_b12/numero_dias,referencia_modalidade.vitamina_b12,"#span_p_vit_b12"),atualizaTabelaReferencia(niacina/numero_dias,referencia_modalidade.niacina,"#span_p_niacina"),atualizaTabelaReferencia(folico/numero_dias,referencia_modalidade.folico,"#span_p_folico"),atualizaTabelaReferencia(pantotenico/numero_dias,referencia_modalidade.pantotenico,"#span_p_pantotenico"),atualizaTabelaReferencia(calcio/numero_dias,referencia_modalidade.calcio,"#span_p_calcio"),atualizaTabelaReferencia(ferro/numero_dias,referencia_modalidade.ferro,"#span_p_ferro"),atualizaTabelaReferencia(magnesio/numero_dias,referencia_modalidade.magnesio,"#span_p_magnesio"),atualizaTabelaReferencia(potassio/numero_dias,referencia_modalidade.potassio,"#span_p_potassio"),atualizaTabelaReferencia(selenio/numero_dias,referencia_modalidade.selenio,"#span_p_selenio"),atualizaTabelaReferencia(fosforo/numero_dias,referencia_modalidade.fosforo,"#span_p_fosforo"),atualizaTabelaReferencia(iodo/numero_dias,referencia_modalidade.iodo,"#span_p_iodo"),atualizaTabelaReferencia(cobre/numero_dias,referencia_modalidade.cobre,"#span_p_cobre"),atualizaTabelaReferencia(zinco/numero_dias,referencia_modalidade.zinco,"#span_p_zinco"),atualizaTabelaReferencia(sodio/numero_dias,referencia_modalidade.sodio,"#span_p_sodio"),atualizaTabelaReferencia(gordura_total/numero_dias,referencia_modalidade.gordura_total,"#span_p_g_total"),atualizaTabelaReferencia(colesterol/numero_dias,referencia_modalidade.colesterol,"#span_p_colesterol"),atualizaTabelaReferencia(gordura_saturada/numero_dias,referencia_modalidade.gordura_saturada,"#span_p_g_saturada"),atualizaTabelaReferencia(gordura_poliinsaturada/numero_dias,referencia_modalidade.gordura_poliinsaturada,"#span_p_g_poliinsaturada"),atualizaTabelaReferencia(gordura_monoinsaturada/numero_dias,referencia_modalidade.gordura_monoinsaturada,"#span_p_g_monoinsaturada"),grafico(),a("#listaItens"+e).append(j),a("#calorias").val(parseFloat(energia/numero_dias).toFixed(3)),a("#carboidratos").val(parseFloat(carboidratos/numero_dias).toFixed(3)),a("#proteinas").val(parseFloat(proteinas/numero_dias).toFixed(3)),a("#lipidios").val(parseFloat(lipidios/numero_dias).toFixed(3)),a("#fibras").val(parseFloat(fibras/numero_dias).toFixed(3)),a("#vitamina_a").val(parseFloat(vitamina_a/numero_dias).toFixed(3)),a("#vitamina_c").val(parseFloat(vitamina_c/numero_dias).toFixed(3)),a("#vitamina_d").val(parseFloat(vitamina_d/numero_dias).toFixed(3)),a("#vitamina_e").val(parseFloat(vitamina_e/numero_dias).toFixed(3)),a("#vitamina_b1").val(parseFloat(vitamina_b1/numero_dias).toFixed(3)),a("#vitamina_b2").val(parseFloat(vitamina_b2/numero_dias).toFixed(3)),a("#vitamina_b6").val(parseFloat(vitamina_b6/numero_dias).toFixed(3)),a("#vitamina_b12").val(parseFloat(vitamina_b12/numero_dias).toFixed(3)),a("#niacina").val(parseFloat(niacina/numero_dias).toFixed(3)),a("#folico").val(parseFloat(folico/numero_dias).toFixed(3)),a("#pantotenico").val(parseFloat(pantotenico/numero_dias).toFixed(3)),a("#calcio").val(parseFloat(calcio/numero_dias).toFixed(3)),a("#ferro").val(parseFloat(ferro/numero_dias).toFixed(3)),a("#magnesio").val(parseFloat(magnesio/numero_dias).toFixed(3)),a("#potassio").val(parseFloat(potassio/numero_dias).toFixed(3)),a("#selenio").val(parseFloat(selenio/numero_dias).toFixed(3)),a("#fosforo").val(parseFloat(fosforo/numero_dias).toFixed(3)),a("#iodo").val(parseFloat(iodo/numero_dias).toFixed(3)),a("#cobre").val(parseFloat(cobre/numero_dias).toFixed(3)),a("#zinco").val(parseFloat(zinco/numero_dias).toFixed(3)),a("#sodio").val(parseFloat(sodio/numero_dias).toFixed(3)),a("#gordura_total").val(parseFloat(gordura_total/numero_dias).toFixed(3)),a("#colesterol").val(parseFloat(colesterol/numero_dias).toFixed(3)),a("#gordura_saturada").val(parseFloat(gordura_saturada/numero_dias).toFixed(3)),a("#gordura_poliinsaturada").val(parseFloat(gordura_poliinsaturada/numero_dias).toFixed(3)),a("#gordura_monoinsaturada").val(parseFloat(gordura_monoinsaturada/numero_dias).toFixed(3)),a("#valor").val(parseFloat(valor).toFixed(2))}function u(e,i){var o=a("#select_tipo_item_edit option:selected"),t=a("#select_item_add_edit option:selected"),r=a("#select_medida_edit option:selected");if(r.val()>1)for(var d in medidas_itens)null!=medidas_itens.hasOwnProperty(d)&&medidas_itens[d].id==r.val()&&(a("#select_medida_edit").val(medidas_itens[d].unidade_medida),r=a("#select_medida_edit option:selected"));var s=a("#p_liquido_edit");if(a(a(".idMedida"+e)[i]).html(r.val()),a(a(".perCapta"+e)[i]).html(s.val()),a(a(".medida"+e)[i]).html(s.val()+" g"),1==o.val())for(var d in itens)null!=itens.hasOwnProperty(d)&&itens[d].id==t.val()&&(energia=parseFloat(energia.toFixed(3))+parseFloat((itens[d].calorias*s.val()/itens[d].medida_base).toFixed(3)),carboidratos=parseFloat(carboidratos.toFixed(3))+parseFloat((itens[d].carboidratos*s.val()/itens[d].medida_base).toFixed(3)),proteinas=parseFloat(proteinas.toFixed(3))+parseFloat((itens[d].proteinas*s.val()/itens[d].medida_base).toFixed(3)),lipidios=parseFloat(lipidios.toFixed(3))+parseFloat((itens[d].lipidios*s.val()/itens[d].medida_base).toFixed(3)),fibras=parseFloat(fibras.toFixed(3))+parseFloat((itens[d].fibras*s.val()/itens[d].medida_base).toFixed(3)),vitamina_a=parseFloat(vitamina_a.toFixed(3))+parseFloat((itens[d].vitamina_a*s.val()/itens[d].medida_base).toFixed(3)),vitamina_c=parseFloat(vitamina_c.toFixed(3))+parseFloat((itens[d].vitamina_c*s.val()/itens[d].medida_base).toFixed(3)),vitamina_d=parseFloat(vitamina_d.toFixed(3))+parseFloat((itens[d].vitamina_d*s.val()/itens[d].medida_base).toFixed(3)),vitamina_e=parseFloat(vitamina_e.toFixed(3))+parseFloat((itens[d].vitamina_e*s.val()/itens[d].medida_base).toFixed(3)),vitamina_b1=parseFloat(vitamina_b1.toFixed(3))+parseFloat((itens[d].vitamina_b1*s.val()/itens[d].medida_base).toFixed(3)),vitamina_b2=parseFloat(vitamina_b2.toFixed(3))+parseFloat((itens[d].vitamina_b2*s.val()/itens[d].medida_base).toFixed(3)),vitamina_b6=parseFloat(vitamina_b6.toFixed(3))+parseFloat((itens[d].vitamina_b6*s.val()/itens[d].medida_base).toFixed(3)),vitamina_b12=parseFloat(vitamina_b12.toFixed(3))+parseFloat((itens[d].vitamina_b12*s.val()/itens[d].medida_base).toFixed(3)),niacina=parseFloat(niacina.toFixed(3))+parseFloat((itens[d].niacina*s.val()/itens[d].medida_base).toFixed(3)),folico=parseFloat(folico.toFixed(3))+parseFloat((itens[d].folico*s.val()/itens[d].medida_base).toFixed(3)),pantotenico=parseFloat(pantotenico.toFixed(3))+parseFloat((itens[d].pantotenico*s.val()/itens[d].medida_base).toFixed(3)),calcio=parseFloat(calcio.toFixed(3))+parseFloat((itens[d].calcio*s.val()/itens[d].medida_base).toFixed(3)),ferro=parseFloat(ferro.toFixed(3))+parseFloat((itens[d].ferro*s.val()/itens[d].medida_base).toFixed(3)),magnesio=parseFloat(magnesio.toFixed(3))+parseFloat((itens[d].magnesio*s.val()/itens[d].medida_base).toFixed(3)),potassio=parseFloat(potassio.toFixed(3))+parseFloat((itens[d].potassio*s.val()/itens[d].medida_base).toFixed(3)),selenio=parseFloat(selenio.toFixed(3))+parseFloat((itens[d].selenio*s.val()/itens[d].medida_base).toFixed(3)),fosforo=parseFloat(fosforo.toFixed(3))+parseFloat((itens[d].fosforo*s.val()/itens[d].medida_base).toFixed(3)),iodo=parseFloat(iodo.toFixed(3))+parseFloat((itens[d].iodo*s.val()/itens[d].medida_base).toFixed(3)),cobre=parseFloat(cobre.toFixed(3))+parseFloat((itens[d].cobre*s.val()/itens[d].medida_base).toFixed(3)),zinco=parseFloat(zinco.toFixed(3))+parseFloat((itens[d].zinco*s.val()/itens[d].medida_base).toFixed(3)),sodio=parseFloat(sodio.toFixed(3))+parseFloat((itens[d].sodio*s.val()/itens[d].medida_base).toFixed(3)),gordura_total=parseFloat(gordura_total.toFixed(3))+parseFloat((itens[d].gordura_total*s.val()/itens[d].medida_base).toFixed(3)),colesterol=parseFloat(colesterol.toFixed(3))+parseFloat((itens[d].colesterol*s.val()/itens[d].medida_base).toFixed(3)),gordura_saturada=parseFloat(gordura_saturada.toFixed(3))+parseFloat((itens[d].gordura_saturada*s.val()/itens[d].medida_base).toFixed(3)),gordura_poliinsaturada=parseFloat(gordura_poliinsaturada.toFixed(3))+parseFloat((itens[d].gordura_poliinsaturada*s.val()/itens[d].medida_base).toFixed(3)),gordura_monoinsaturada=parseFloat(gordura_monoinsaturada.toFixed(3))+parseFloat((itens[d].gordura_monoinsaturada*s.val()/itens[d].medida_base).toFixed(3)),valor=parseFloat(valor.toFixed(2))+parseFloat((itens[d].valor*s.val()/itens[d].medida_base).toFixed(2)));var l=0,n=0,p=0,_=0,c=0,m=0,F=0,v=0,u=0,f=0,b=0,x=0,w=0,g=0,h=0,D=0,z=0,T=0,y=0,R=0,q=0,Y=0,M=0,$=0,S=0,C=0,I=0,k=0,A=0,V=0,E=0,O=0;if(2==o.val()){var P=0;for(var d in view_preparacoes)null!=view_preparacoes.hasOwnProperty(d)&&view_preparacoes[d].id_preparacao==t.val()&&(P=d,l=parseFloat(l.toFixed(3))+parseFloat((view_preparacoes[d].calorias*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),n=parseFloat(n.toFixed(3))+parseFloat((view_preparacoes[d].carboidratos*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),p=parseFloat(p.toFixed(3))+parseFloat((view_preparacoes[d].proteinas*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),_=parseFloat(_.toFixed(3))+parseFloat((view_preparacoes[d].lipidios*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),c=parseFloat(c.toFixed(3))+parseFloat((view_preparacoes[d].fibras*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),m=parseFloat(m.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_a*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),F=parseFloat(F.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_c*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),v=parseFloat(v.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_d*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),u=parseFloat(u.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_e*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),f=parseFloat(f.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_b1*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),b=parseFloat(b.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_b2*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),x=parseFloat(x.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_b6*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),w=parseFloat(w.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_b12*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),g=parseFloat(g.toFixed(3))+parseFloat((view_preparacoes[d].niacina*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),h=parseFloat(h.toFixed(3))+parseFloat((view_preparacoes[d].folico*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),D=parseFloat(D.toFixed(3))+parseFloat((view_preparacoes[d].pantotenico*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),z=parseFloat(z.toFixed(3))+parseFloat((view_preparacoes[d].calcio*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),T=parseFloat(T.toFixed(3))+parseFloat((view_preparacoes[d].ferro*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),y=parseFloat(y.toFixed(3))+parseFloat((view_preparacoes[d].magnesio*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),R=parseFloat(R.toFixed(3))+parseFloat((view_preparacoes[d].potassio*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),q=parseFloat(q.toFixed(3))+parseFloat((view_preparacoes[d].selenio*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),Y=parseFloat(Y.toFixed(3))+parseFloat((view_preparacoes[d].fosforo*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),M=parseFloat(M.toFixed(3))+parseFloat((view_preparacoes[d].iodo*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),$=parseFloat($.toFixed(3))+parseFloat((view_preparacoes[d].cobre*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),S=parseFloat(S.toFixed(3))+parseFloat((view_preparacoes[d].zinco*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),C=parseFloat(C.toFixed(3))+parseFloat((view_preparacoes[d].sodio*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),I=parseFloat(I.toFixed(3))+parseFloat((view_preparacoes[d].gordura_total*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),k=parseFloat(k.toFixed(3))+parseFloat((view_preparacoes[d].colesterol*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),A=parseFloat(A.toFixed(3))+parseFloat((view_preparacoes[d].gordura_saturada*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),V=parseFloat(V.toFixed(3))+parseFloat((view_preparacoes[d].gordura_poliinsaturada*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),E=parseFloat(E.toFixed(3))+parseFloat((view_preparacoes[d].gordura_monoinsaturada*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),O=parseFloat(O.toFixed(2))+parseFloat((view_preparacoes[d].valor*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(2)));energia=parseFloat(energia.toFixed(3))+parseFloat((l*s.val()/view_preparacoes[P].medida_total).toFixed(3)),carboidratos=parseFloat(carboidratos.toFixed(3))+parseFloat((n*s.val()/view_preparacoes[P].medida_total).toFixed(3)),proteinas=parseFloat(proteinas.toFixed(3))+parseFloat((p*s.val()/view_preparacoes[P].medida_total).toFixed(3)),lipidios=parseFloat(lipidios.toFixed(3))+parseFloat((_*s.val()/view_preparacoes[P].medida_total).toFixed(3)),fibras=parseFloat(fibras.toFixed(3))+parseFloat((c*s.val()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_a=parseFloat(vitamina_a.toFixed(3))+parseFloat((m*s.val()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_c=parseFloat(vitamina_c.toFixed(3))+parseFloat((F*s.val()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_d=parseFloat(vitamina_d.toFixed(3))+parseFloat((v*s.val()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_e=parseFloat(vitamina_e.toFixed(3))+parseFloat((u*s.val()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_b1=parseFloat(vitamina_b1.toFixed(3))+parseFloat((f*s.val()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_b2=parseFloat(vitamina_b2.toFixed(3))+parseFloat((b*s.val()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_b6=parseFloat(vitamina_b6.toFixed(3))+parseFloat((x*s.val()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_b12=parseFloat(vitamina_b12.toFixed(3))+parseFloat((w*s.val()/view_preparacoes[P].medida_total).toFixed(3)),niacina=parseFloat(niacina.toFixed(3))+parseFloat((g*s.val()/view_preparacoes[P].medida_total).toFixed(3)),folico=parseFloat(folico.toFixed(3))+parseFloat((h*s.val()/view_preparacoes[P].medida_total).toFixed(3)),pantotenico=parseFloat(pantotenico.toFixed(3))+parseFloat((D*s.val()/view_preparacoes[P].medida_total).toFixed(3)),calcio=parseFloat(calcio.toFixed(3))+parseFloat((z*s.val()/view_preparacoes[P].medida_total).toFixed(3)),ferro=parseFloat(ferro.toFixed(3))+parseFloat((T*s.val()/view_preparacoes[P].medida_total).toFixed(3)),magnesio=parseFloat(magnesio.toFixed(3))+parseFloat((y*s.val()/view_preparacoes[P].medida_total).toFixed(3)),potassio=parseFloat(potassio.toFixed(3))+parseFloat((R*s.val()/view_preparacoes[P].medida_total).toFixed(3)),selenio=parseFloat(selenio.toFixed(3))+parseFloat((q*s.val()/view_preparacoes[P].medida_total).toFixed(3)),fosforo=parseFloat(fosforo.toFixed(3))+parseFloat((Y*s.val()/view_preparacoes[P].medida_total).toFixed(3)),iodo=parseFloat(iodo.toFixed(3))+parseFloat((M*s.val()/view_preparacoes[P].medida_total).toFixed(3)),cobre=parseFloat(cobre.toFixed(3))+parseFloat(($*s.val()/view_preparacoes[P].medida_total).toFixed(3)),zinco=parseFloat(zinco.toFixed(3))+parseFloat((S*s.val()/view_preparacoes[P].medida_total).toFixed(3)),sodio=parseFloat(sodio.toFixed(3))+parseFloat((C*s.val()/view_preparacoes[P].medida_total).toFixed(3)),gordura_total=parseFloat(gordura_total.toFixed(3))+parseFloat((I*s.val()/view_preparacoes[P].medida_total).toFixed(3)),colesterol=parseFloat(colesterol.toFixed(3))+parseFloat((k*s.val()/view_preparacoes[P].medida_total).toFixed(3)),gordura_saturada=parseFloat(gordura_saturada.toFixed(3))+parseFloat((A*s.val()/view_preparacoes[P].medida_total).toFixed(3)),gordura_poliinsaturada=parseFloat(gordura_poliinsaturada.toFixed(3))+parseFloat((V*s.val()/view_preparacoes[P].medida_total).toFixed(3)),gordura_monoinsaturada=parseFloat(gordura_monoinsaturada.toFixed(3))+parseFloat((E*s.val()/view_preparacoes[P].medida_total).toFixed(3)),valor=parseFloat(valor.toFixed(2))+parseFloat((O*s.val()/view_preparacoes[P].medida_total).toFixed(2))}atualizaTabelaReferencia(energia/numero_dias,referencia_modalidade.calorias,"#span_p_calorias"),atualizaTabelaReferencia(carboidratos/numero_dias,referencia_modalidade.carboidratos,"#span_p_carboidratos"),atualizaTabelaReferencia(proteinas/numero_dias,referencia_modalidade.proteinas,"#span_p_proteinas"),atualizaTabelaReferencia(lipidios/numero_dias,referencia_modalidade.lipidios,"#span_p_lipidios"),atualizaTabelaReferencia(fibras/numero_dias,referencia_modalidade.fibras,"#span_p_fibras"),atualizaTabelaReferencia(vitamina_a/numero_dias,referencia_modalidade.vitamina_a,"#span_p_vit_a"),atualizaTabelaReferencia(vitamina_c/numero_dias,referencia_modalidade.vitamina_c,"#span_p_vit_c"),atualizaTabelaReferencia(vitamina_d/numero_dias,referencia_modalidade.vitamina_d,"#span_p_vit_d"),atualizaTabelaReferencia(vitamina_e/numero_dias,referencia_modalidade.vitamina_e,"#span_p_vit_e"),atualizaTabelaReferencia(vitamina_b1/numero_dias,referencia_modalidade.vitamina_b1,"#span_p_vit_b1"),atualizaTabelaReferencia(vitamina_b2/numero_dias,referencia_modalidade.vitamina_b2,"#span_p_vit_b2"),atualizaTabelaReferencia(vitamina_b6/numero_dias,referencia_modalidade.vitamina_b6,"#span_p_vit_b6"),atualizaTabelaReferencia(vitamina_b12/numero_dias,referencia_modalidade.vitamina_b12,"#span_p_vit_b12"),atualizaTabelaReferencia(niacina/numero_dias,referencia_modalidade.niacina,"#span_p_niacina"),atualizaTabelaReferencia(folico/numero_dias,referencia_modalidade.folico,"#span_p_folico"),atualizaTabelaReferencia(pantotenico/numero_dias,referencia_modalidade.pantotenico,"#span_p_pantotenico"),atualizaTabelaReferencia(calcio/numero_dias,referencia_modalidade.calcio,"#span_p_calcio"),atualizaTabelaReferencia(ferro/numero_dias,referencia_modalidade.ferro,"#span_p_ferro"),atualizaTabelaReferencia(magnesio/numero_dias,referencia_modalidade.magnesio,"#span_p_magnesio"),atualizaTabelaReferencia(potassio/numero_dias,referencia_modalidade.potassio,"#span_p_potassio"),atualizaTabelaReferencia(selenio/numero_dias,referencia_modalidade.selenio,"#span_p_selenio"),atualizaTabelaReferencia(fosforo/numero_dias,referencia_modalidade.fosforo,"#span_p_fosforo"),atualizaTabelaReferencia(iodo/numero_dias,referencia_modalidade.iodo,"#span_p_iodo"),atualizaTabelaReferencia(cobre/numero_dias,referencia_modalidade.cobre,"#span_p_cobre"),atualizaTabelaReferencia(zinco/numero_dias,referencia_modalidade.zinco,"#span_p_zinco"),atualizaTabelaReferencia(sodio/numero_dias,referencia_modalidade.sodio,"#span_p_sodio"),atualizaTabelaReferencia(gordura_total/numero_dias,referencia_modalidade.gordura_total,"#span_p_g_total"),atualizaTabelaReferencia(colesterol/numero_dias,referencia_modalidade.colesterol,"#span_p_colesterol"),atualizaTabelaReferencia(gordura_saturada/numero_dias,referencia_modalidade.gordura_saturada,"#span_p_g_saturada"),atualizaTabelaReferencia(gordura_poliinsaturada/numero_dias,referencia_modalidade.gordura_poliinsaturada,"#span_p_g_poliinsaturada"),atualizaTabelaReferencia(gordura_monoinsaturada/numero_dias,referencia_modalidade.gordura_monoinsaturada,"#span_p_g_monoinsaturada"),adicionaLinhaTabela(),grafico(),a("#calorias").val(parseFloat(energia/numero_dias).toFixed(3)),a("#carboidratos").val(parseFloat(carboidratos/numero_dias).toFixed(3)),a("#proteinas").val(parseFloat(proteinas/numero_dias).toFixed(3)),a("#lipidios").val(parseFloat(lipidios/numero_dias).toFixed(3)),a("#fibras").val(parseFloat(fibras/numero_dias).toFixed(3)),a("#vitamina_a").val(parseFloat(vitamina_a/numero_dias).toFixed(3)),a("#vitamina_c").val(parseFloat(vitamina_c/numero_dias).toFixed(3)),a("#vitamina_d").val(parseFloat(vitamina_d/numero_dias).toFixed(3)),a("#vitamina_e").val(parseFloat(vitamina_e/numero_dias).toFixed(3)),a("#vitamina_b1").val(parseFloat(vitamina_b1/numero_dias).toFixed(3)),a("#vitamina_b2").val(parseFloat(vitamina_b2/numero_dias).toFixed(3)),a("#vitamina_b6").val(parseFloat(vitamina_b6/numero_dias).toFixed(3)),a("#vitamina_b12").val(parseFloat(vitamina_b12/numero_dias).toFixed(3)),a("#niacina").val(parseFloat(niacina/numero_dias).toFixed(3)),a("#folico").val(parseFloat(folico/numero_dias).toFixed(3)),a("#pantotenico").val(parseFloat(pantotenico/numero_dias).toFixed(3)),a("#calcio").val(parseFloat(calcio/numero_dias).toFixed(3)),a("#ferro").val(parseFloat(ferro/numero_dias).toFixed(3)),a("#magnesio").val(parseFloat(magnesio/numero_dias).toFixed(3)),a("#potassio").val(parseFloat(potassio/numero_dias).toFixed(3)),a("#selenio").val(parseFloat(selenio/numero_dias).toFixed(3)),a("#fosforo").val(parseFloat(fosforo/numero_dias).toFixed(3)),a("#iodo").val(parseFloat(iodo/numero_dias).toFixed(3)),a("#cobre").val(parseFloat(cobre/numero_dias).toFixed(3)),a("#zinco").val(parseFloat(zinco/numero_dias).toFixed(3)),a("#sodio").val(parseFloat(sodio/numero_dias).toFixed(3)),a("#gordura_total").val(parseFloat(gordura_total/numero_dias).toFixed(3)),a("#colesterol").val(parseFloat(colesterol/numero_dias).toFixed(3)),a("#gordura_saturada").val(parseFloat(gordura_saturada/numero_dias).toFixed(3)),a("#gordura_poliinsaturada").val(parseFloat(gordura_poliinsaturada/numero_dias).toFixed(3)),a("#gordura_monoinsaturada").val(parseFloat(gordura_monoinsaturada/numero_dias).toFixed(3)),a("#valor").val(parseFloat(valor).toFixed(2))}function f(e){var i=a(".botaoEditar"+e);i.off(),i.each(function(i,o){a(o).click(function(){var o,t=a(a(".idRefeicao"+e)[i]),d=a(a(".idTipoItem"+e)[i]),s=a(a(".idItem"+e)[i]),n=a(a(".idFonte"+e)[i]),p=a(a(".idMedida"+e)[i]),_=a(a(".perCapta"+e)[i]);if(1==e?(posicaoEditar1=i,editando1=!0):2==e?(posicaoEditar2=i,editando2=!0):3==e?(posicaoEditar3=i,editando3=!0):4==e?(posicaoEditar4=i,editando4=!0):5==e?(posicaoEditar5=i,editando5=!0):(posicaoEditar6=i,editando6=!0),criaOpcaoRefeicoesEdit(e),a("#select_tipo_refeicao_edit").val(t.html()),(o=a("#select_tipo_item_edit")).empty(),o.html('<option value="0">Selecione uma opção</option><option value= "1">Alimento</option><option value= "2">Preparação</option>'),a("#select_tipo_item_edit").val(d.html()),r(),a("#select_fonte_edit").val(n.html()),l(),a("#select_item_add_edit").val(s.html()),a("#select_item_add_edit").prop("disabled","true"),a("#select_item_add_edit").selectpicker("refresh"),function(){var e=a("#select_medida_edit"),i=a("#select_item_add_edit").val(),o=a("#select_tipo_item_edit");e.empty();var t='<option value="0">Selecione uma opção</option>';if("undefined"!=typeof itens&&null!=itens.hasOwnProperty(i)&&(t+='<option value="1">g</option>'),i>0)for(var r in medidas_itens)null!=medidas_itens.hasOwnProperty(r)&&medidas_itens[r].id_item==i&&(t+='<option value="'+medidas_itens[r].id+'">'+medidas_itens[r].nome_medida+"</option>");if(e.empty(),e.html(t),2==o.val())for(var r in e.empty(),e.html('<option value="1" option:selected>g</option>'),view_preparacoes)i==view_preparacoes[r].id_preparacao&&a("#p_liquido_edit").val(view_preparacoes[r].medida_total)}(),a("#select_medida_edit").val(p.html()),function(){var e=a("#select_item_add_edit"),i=a("#select_tipo_item_edit");e.val()>=1&&1==i.val()?removeAtributo("#select_medida_edit","disabled"):e.val()>=1&&2==i.val()?(removeAtributo("#select_medida_edit","disabled"),removeAtributo("#p_liquido_edit","disabled")):(adicionaAtributo("#select_medida_edit","disabled",""),adicionaAtributo("#p_liquido_edit","disabled",""),a("#select_medida_edit").empty(),a("#select_medida_edit").html('<option value="0">Selecione uma opção</option>'))}(),a("#p_liquido_edit").val(_.html()),1==d.html())for(var c in itens)null!=itens.hasOwnProperty(c)&&itens[c].id==s.html()&&(energia=parseFloat(energia.toFixed(3))-parseFloat((itens[c].calorias*_.html()/itens[c].medida_base).toFixed(3)),carboidratos=parseFloat(carboidratos.toFixed(3))-parseFloat((itens[c].carboidratos*_.html()/itens[c].medida_base).toFixed(3)),proteinas=parseFloat(proteinas.toFixed(3))-parseFloat((itens[c].proteinas*_.html()/itens[c].medida_base).toFixed(3)),lipidios=parseFloat(lipidios.toFixed(3))-parseFloat((itens[c].lipidios*_.html()/itens[c].medida_base).toFixed(3)),fibras=parseFloat(fibras.toFixed(3))-parseFloat((itens[c].fibras*_.html()/itens[c].medida_base).toFixed(3)),vitamina_a=parseFloat(vitamina_a.toFixed(3))-parseFloat((itens[c].vitamina_a*_.html()/itens[c].medida_base).toFixed(3)),vitamina_c=parseFloat(vitamina_c.toFixed(3))-parseFloat((itens[c].vitamina_c*_.html()/itens[c].medida_base).toFixed(3)),vitamina_d=parseFloat(vitamina_d.toFixed(3))-parseFloat((itens[c].vitamina_d*_.html()/itens[c].medida_base).toFixed(3)),vitamina_e=parseFloat(vitamina_e.toFixed(3))-parseFloat((itens[c].vitamina_e*_.html()/itens[c].medida_base).toFixed(3)),vitamina_b1=parseFloat(vitamina_b1.toFixed(3))-parseFloat((itens[c].vitamina_b1*_.html()/itens[c].medida_base).toFixed(3)),vitamina_b2=parseFloat(vitamina_b2.toFixed(3))-parseFloat((itens[c].vitamina_b2*_.html()/itens[c].medida_base).toFixed(3)),vitamina_b6=parseFloat(vitamina_b6.toFixed(3))-parseFloat((itens[c].vitamina_b6*_.html()/itens[c].medida_base).toFixed(3)),vitamina_b12=parseFloat(vitamina_b12.toFixed(3))-parseFloat((itens[c].vitamina_b12*_.html()/itens[c].medida_base).toFixed(3)),niacina=parseFloat(niacina.toFixed(3))-parseFloat((itens[c].niacina*_.html()/itens[c].medida_base).toFixed(3)),folico=parseFloat(folico.toFixed(3))-parseFloat((itens[c].folico*_.html()/itens[c].medida_base).toFixed(3)),pantotenico=parseFloat(pantotenico.toFixed(3))-parseFloat((itens[c].pantotenico*_.html()/itens[c].medida_base).toFixed(3)),calcio=parseFloat(calcio.toFixed(3))-parseFloat((itens[c].calcio*_.html()/itens[c].medida_base).toFixed(3)),ferro=parseFloat(ferro.toFixed(3))-parseFloat((itens[c].ferro*_.html()/itens[c].medida_base).toFixed(3)),magnesio=parseFloat(magnesio.toFixed(3))-parseFloat((itens[c].magnesio*_.html()/itens[c].medida_base).toFixed(3)),potassio=parseFloat(potassio.toFixed(3))-parseFloat((itens[c].potassio*_.html()/itens[c].medida_base).toFixed(3)),selenio=parseFloat(selenio.toFixed(3))-parseFloat((itens[c].selenio*_.html()/itens[c].medida_base).toFixed(3)),fosforo=parseFloat(fosforo.toFixed(3))-parseFloat((itens[c].fosforo*_.html()/itens[c].medida_base).toFixed(3)),iodo=parseFloat(iodo.toFixed(3))-parseFloat((itens[c].iodo*_.html()/itens[c].medida_base).toFixed(3)),cobre=parseFloat(cobre.toFixed(3))-parseFloat((itens[c].cobre*_.html()/itens[c].medida_base).toFixed(3)),zinco=parseFloat(zinco.toFixed(3))-parseFloat((itens[c].zinco*_.html()/itens[c].medida_base).toFixed(3)),sodio=parseFloat(sodio.toFixed(3))-parseFloat((itens[c].sodio*_.html()/itens[c].medida_base).toFixed(3)),gordura_total=parseFloat(gordura_total.toFixed(3))-parseFloat((itens[c].gordura_total*_.html()/itens[c].medida_base).toFixed(3)),colesterol=parseFloat(colesterol.toFixed(3))-parseFloat((itens[c].colesterol*_.html()/itens[c].medida_base).toFixed(3)),gordura_saturada=parseFloat(gordura_saturada.toFixed(3))-parseFloat((itens[c].gordura_saturada*_.html()/itens[c].medida_base).toFixed(3)),gordura_poliinsaturada=parseFloat(gordura_poliinsaturada.toFixed(3))-parseFloat((itens[c].gordura_poliinsaturada*_.html()/itens[c].medida_base).toFixed(3)),gordura_monoinsaturada=parseFloat(gordura_monoinsaturada.toFixed(3))-parseFloat((itens[c].gordura_monoinsaturada*_.html()/itens[c].medida_base).toFixed(3)),valor=parseFloat(valor.toFixed(3))-parseFloat((itens[c].valor*_.html()/itens[c].medida_base).toFixed(2)));var m=0,F=0,v=0,u=0,f=0,b=0,x=0,w=0,g=0,h=0,D=0,z=0,T=0,y=0,R=0,q=0,Y=0,M=0,$=0,S=0,C=0,I=0,k=0,A=0,V=0,E=0,O=0,P=0,N=0,L=0,j=0,J=0;if(2==d.html()){var Q=0;for(var c in view_preparacoes)null!=view_preparacoes.hasOwnProperty(c)&&view_preparacoes[c].id_preparacao==s.html()&&(Q=c,m=parseFloat(m.toFixed(3))+parseFloat((view_preparacoes[c].calorias*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),F=parseFloat(F.toFixed(3))+parseFloat((view_preparacoes[c].carboidratos*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),v=parseFloat(v.toFixed(3))+parseFloat((view_preparacoes[c].proteinas*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),u=parseFloat(u.toFixed(3))+parseFloat((view_preparacoes[c].lipidios*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),f=parseFloat(f.toFixed(3))+parseFloat((view_preparacoes[c].fibras*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),b=parseFloat(b.toFixed(3))+parseFloat((view_preparacoes[c].vitamina_a*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),x=parseFloat(x.toFixed(3))+parseFloat((view_preparacoes[c].vitamina_c*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),w=parseFloat(w.toFixed(3))+parseFloat((view_preparacoes[c].vitamina_d*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),g=parseFloat(g.toFixed(3))+parseFloat((view_preparacoes[c].vitamina_e*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),h=parseFloat(h.toFixed(3))+parseFloat((view_preparacoes[c].vitamina_b1*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),D=parseFloat(D.toFixed(3))+parseFloat((view_preparacoes[c].vitamina_b2*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),z=parseFloat(z.toFixed(3))+parseFloat((view_preparacoes[c].vitamina_b6*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),T=parseFloat(T.toFixed(3))+parseFloat((view_preparacoes[c].vitamina_b12*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),y=parseFloat(y.toFixed(3))+parseFloat((view_preparacoes[c].niacina*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),R=parseFloat(R.toFixed(3))+parseFloat((view_preparacoes[c].folico*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),q=parseFloat(q.toFixed(3))+parseFloat((view_preparacoes[c].pantotenico*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),Y=parseFloat(Y.toFixed(3))+parseFloat((view_preparacoes[c].calcio*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),M=parseFloat(M.toFixed(3))+parseFloat((view_preparacoes[c].ferro*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),$=parseFloat($.toFixed(3))+parseFloat((view_preparacoes[c].magnesio*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),S=parseFloat(S.toFixed(3))+parseFloat((view_preparacoes[c].potassio*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),C=parseFloat(C.toFixed(3))+parseFloat((view_preparacoes[c].selenio*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),I=parseFloat(I.toFixed(3))+parseFloat((view_preparacoes[c].fosforo*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),k=parseFloat(k.toFixed(3))+parseFloat((view_preparacoes[c].iodo*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),A=parseFloat(A.toFixed(3))+parseFloat((view_preparacoes[c].cobre*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),V=parseFloat(V.toFixed(3))+parseFloat((view_preparacoes[c].zinco*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),E=parseFloat(E.toFixed(3))+parseFloat((view_preparacoes[c].sodio*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),O=parseFloat(O.toFixed(3))+parseFloat((view_preparacoes[c].gordura_total*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),P=parseFloat(P.toFixed(3))+parseFloat((view_preparacoes[c].colesterol*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),N=parseFloat(N.toFixed(3))+parseFloat((view_preparacoes[c].gordura_saturada*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),L=parseFloat(L.toFixed(3))+parseFloat((view_preparacoes[c].gordura_poliinsaturada*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),j=parseFloat(j.toFixed(3))+parseFloat((view_preparacoes[c].gordura_monoinsaturada*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(3)),J=parseFloat(J.toFixed(2))+parseFloat((view_preparacoes[c].valor*view_preparacoes[c].p_liquido/view_preparacoes[c].medida_base).toFixed(2)));energia=parseFloat(energia.toFixed(3))-parseFloat((m*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),carboidratos=parseFloat(carboidratos.toFixed(3))-parseFloat((F*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),proteinas=parseFloat(proteinas.toFixed(3))-parseFloat((v*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),lipidios=parseFloat(lipidios.toFixed(3))-parseFloat((u*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),fibras=parseFloat(fibras.toFixed(3))-parseFloat((f*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),vitamina_a=parseFloat(vitamina_a.toFixed(3))-parseFloat((b*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),vitamina_c=parseFloat(vitamina_c.toFixed(3))-parseFloat((x*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),vitamina_d=parseFloat(vitamina_d.toFixed(3))-parseFloat((w*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),vitamina_e=parseFloat(vitamina_e.toFixed(3))-parseFloat((g*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),vitamina_b1=parseFloat(vitamina_b1.toFixed(3))-parseFloat((h*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),vitamina_b2=parseFloat(vitamina_b2.toFixed(3))-parseFloat((D*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),vitamina_b6=parseFloat(vitamina_b6.toFixed(3))-parseFloat((z*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),vitamina_b12=parseFloat(vitamina_b12.toFixed(3))-parseFloat((T*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),niacina=parseFloat(niacina.toFixed(3))-parseFloat((y*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),folico=parseFloat(folico.toFixed(3))-parseFloat((R*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),pantotenico=parseFloat(pantotenico.toFixed(3))-parseFloat((q*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),calcio=parseFloat(calcio.toFixed(3))-parseFloat((Y*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),ferro=parseFloat(ferro.toFixed(3))-parseFloat((M*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),magnesio=parseFloat(magnesio.toFixed(3))-parseFloat(($*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),potassio=parseFloat(potassio.toFixed(3))-parseFloat((S*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),selenio=parseFloat(selenio.toFixed(3))-parseFloat((C*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),fosforo=parseFloat(fosforo.toFixed(3))-parseFloat((I*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),iodo=parseFloat(iodo.toFixed(3))-parseFloat((k*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),cobre=parseFloat(cobre.toFixed(3))-parseFloat((A*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),zinco=parseFloat(zinco.toFixed(3))-parseFloat((V*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),sodio=parseFloat(sodio.toFixed(3))-parseFloat((E*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),gordura_total=parseFloat(gordura_total.toFixed(3))-parseFloat((O*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),colesterol=parseFloat(colesterol.toFixed(3))-parseFloat((P*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),gordura_saturada=parseFloat(gordura_saturada.toFixed(3))-parseFloat((N*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),gordura_poliinsaturada=parseFloat(gordura_poliinsaturada.toFixed(3))-parseFloat((L*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),gordura_monoinsaturada=parseFloat(gordura_monoinsaturada.toFixed(3))-parseFloat((j*_.html()/view_preparacoes[Q].medida_total).toFixed(3)),valor=parseFloat(valor.toFixed(2))-parseFloat((J*_.html()/view_preparacoes[Q].medida_total).toFixed(2))}})})}function b(e){!function(e){var i=a(".botaoRemover"+e);i.off(),i.each(function(i,o){a(o).click(function(){a(a(".idRefeicao"+e)[i]);var o=a(a(".idTipoItem"+e)[i]),t=(a(a(".idFonte"+e)[i]),a(a(".idItem"+e)[i])),r=a(a(".perCapta"+e)[i]);if(a(a(".idMedida"+e)[i]),a(a(".listaItem"+e)[i]).remove(),1==e?listaTamanho1--:2==e?listaTamanho2--:3==e?listaTamanho3--:4==e?listaTamanho4--:5==e?listaTamanho5--:listaTamanho6--,listaTamanhoTotal--,b(e),0==listaTamanho1&&1==e&&(a("#listaVazia1").show(),listaVazia1=!0),0==listaTamanho2&&2==e&&(a("#listaVazia2").show(),listaVazia2=!0),0==listaTamanho3&&3==e&&(a("#listaVazia3").show(),listaVazia3=!0),0==listaTamanho4&&4==e&&(a("#listaVazia4").show(),listaVazia4=!0),0==listaTamanho5&&5==e&&(a("#listaVazia5").show(),listaVazia5=!0),0==listaTamanho6&&6==e&&(a("#listaVazia6").show(),listaVazia6=!0),1==o.html())for(var d in itens)null!=itens.hasOwnProperty(d)&&itens[d].id==t.html()&&(energia=parseFloat(energia.toFixed(3))-parseFloat((itens[d].calorias*r.html()/itens[d].medida_base).toFixed(3)),carboidratos=parseFloat(carboidratos.toFixed(3))-parseFloat((itens[d].carboidratos*r.html()/itens[d].medida_base).toFixed(3)),proteinas=parseFloat(proteinas.toFixed(3))-parseFloat((itens[d].proteinas*r.html()/itens[d].medida_base).toFixed(3)),lipidios=parseFloat(lipidios.toFixed(3))-parseFloat((itens[d].lipidios*r.html()/itens[d].medida_base).toFixed(3)),fibras=parseFloat(fibras.toFixed(3))-parseFloat((itens[d].fibras*r.html()/itens[d].medida_base).toFixed(3)),vitamina_a=parseFloat(vitamina_a.toFixed(3))-parseFloat((itens[d].vitamina_a*r.html()/itens[d].medida_base).toFixed(3)),vitamina_c=parseFloat(vitamina_c.toFixed(3))-parseFloat((itens[d].vitamina_c*r.html()/itens[d].medida_base).toFixed(3)),vitamina_d=parseFloat(vitamina_d.toFixed(3))-parseFloat((itens[d].vitamina_d*r.html()/itens[d].medida_base).toFixed(3)),vitamina_e=parseFloat(vitamina_e.toFixed(3))-parseFloat((itens[d].vitamina_e*r.html()/itens[d].medida_base).toFixed(3)),vitamina_b1=parseFloat(vitamina_b1.toFixed(3))-parseFloat((itens[d].vitamina_b1*r.html()/itens[d].medida_base).toFixed(3)),vitamina_b2=parseFloat(vitamina_b2.toFixed(3))-parseFloat((itens[d].vitamina_b2*r.html()/itens[d].medida_base).toFixed(3)),vitamina_b6=parseFloat(vitamina_b6.toFixed(3))-parseFloat((itens[d].vitamina_b6*r.html()/itens[d].medida_base).toFixed(3)),vitamina_b12=parseFloat(vitamina_b12.toFixed(3))-parseFloat((itens[d].vitamina_b12*r.html()/itens[d].medida_base).toFixed(3)),niacina=parseFloat(niacina.toFixed(3))-parseFloat((itens[d].niacina*r.html()/itens[d].medida_base).toFixed(3)),folico=parseFloat(folico.toFixed(3))-parseFloat((itens[d].folico*r.html()/itens[d].medida_base).toFixed(3)),pantotenico=parseFloat(pantotenico.toFixed(3))-parseFloat((itens[d].pantotenico*r.html()/itens[d].medida_base).toFixed(3)),calcio=parseFloat(calcio.toFixed(3))-parseFloat((itens[d].calcio*r.html()/itens[d].medida_base).toFixed(3)),ferro=parseFloat(ferro.toFixed(3))-parseFloat((itens[d].ferro*r.html()/itens[d].medida_base).toFixed(3)),magnesio=parseFloat(magnesio.toFixed(3))-parseFloat((itens[d].magnesio*r.html()/itens[d].medida_base).toFixed(3)),potassio=parseFloat(potassio.toFixed(3))-parseFloat((itens[d].potassio*r.html()/itens[d].medida_base).toFixed(3)),selenio=parseFloat(selenio.toFixed(3))-parseFloat((itens[d].selenio*r.html()/itens[d].medida_base).toFixed(3)),fosforo=parseFloat(fosforo.toFixed(3))-parseFloat((itens[d].fosforo*r.html()/itens[d].medida_base).toFixed(3)),iodo=parseFloat(iodo.toFixed(3))-parseFloat((itens[d].iodo*r.html()/itens[d].medida_base).toFixed(3)),cobre=parseFloat(cobre.toFixed(3))-parseFloat((itens[d].cobre*r.html()/itens[d].medida_base).toFixed(3)),zinco=parseFloat(zinco.toFixed(3))-parseFloat((itens[d].zinco*r.html()/itens[d].medida_base).toFixed(3)),sodio=parseFloat(sodio.toFixed(3))-parseFloat((itens[d].sodio*r.html()/itens[d].medida_base).toFixed(3)),gordura_total=parseFloat(gordura_total.toFixed(3))-parseFloat((itens[d].gordura_total*r.html()/itens[d].medida_base).toFixed(3)),colesterol=parseFloat(colesterol.toFixed(3))-parseFloat((itens[d].colesterol*r.html()/itens[d].medida_base).toFixed(3)),gordura_saturada=parseFloat(gordura_saturada.toFixed(3))-parseFloat((itens[d].gordura_saturada*r.html()/itens[d].medida_base).toFixed(3)),gordura_poliinsaturada=parseFloat(gordura_poliinsaturada.toFixed(3))-parseFloat((itens[d].gordura_poliinsaturada*r.html()/itens[d].medida_base).toFixed(3)),gordura_monoinsaturada=parseFloat(gordura_monoinsaturada.toFixed(3))-parseFloat((itens[d].gordura_monoinsaturada*r.html()/itens[d].medida_base).toFixed(3)),valor=parseFloat(valor.toFixed(3))-parseFloat((itens[d].valor*r.html()/itens[d].medida_base).toFixed(2)));var s=0,l=0,n=0,p=0,_=0,c=0,m=0,F=0,v=0,u=0,f=0,x=0,w=0,g=0,h=0,D=0,z=0,T=0,y=0,R=0,q=0,Y=0,M=0,$=0,S=0,C=0,I=0,k=0,A=0,V=0,E=0,O=0;if(2==o.html()){var P=0;for(var d in view_preparacoes)null!=view_preparacoes.hasOwnProperty(d)&&view_preparacoes[d].id_preparacao==t.html()&&(P=d,s=parseFloat(s.toFixed(3))+parseFloat((view_preparacoes[d].calorias*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),l=parseFloat(l.toFixed(3))+parseFloat((view_preparacoes[d].carboidratos*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),n=parseFloat(n.toFixed(3))+parseFloat((view_preparacoes[d].proteinas*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),p=parseFloat(p.toFixed(3))+parseFloat((view_preparacoes[d].lipidios*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),_=parseFloat(_.toFixed(3))+parseFloat((view_preparacoes[d].fibras*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),c=parseFloat(c.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_a*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),m=parseFloat(m.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_c*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),F=parseFloat(F.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_d*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),v=parseFloat(v.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_e*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),u=parseFloat(u.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_b1*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),f=parseFloat(f.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_b2*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),x=parseFloat(x.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_b6*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),w=parseFloat(w.toFixed(3))+parseFloat((view_preparacoes[d].vitamina_b12*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),g=parseFloat(g.toFixed(3))+parseFloat((view_preparacoes[d].niacina*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),h=parseFloat(h.toFixed(3))+parseFloat((view_preparacoes[d].folico*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),D=parseFloat(D.toFixed(3))+parseFloat((view_preparacoes[d].pantotenico*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),z=parseFloat(z.toFixed(3))+parseFloat((view_preparacoes[d].calcio*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),T=parseFloat(T.toFixed(3))+parseFloat((view_preparacoes[d].ferro*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),y=parseFloat(y.toFixed(3))+parseFloat((view_preparacoes[d].magnesio*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),R=parseFloat(R.toFixed(3))+parseFloat((view_preparacoes[d].potassio*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),q=parseFloat(q.toFixed(3))+parseFloat((view_preparacoes[d].selenio*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),Y=parseFloat(Y.toFixed(3))+parseFloat((view_preparacoes[d].fosforo*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),M=parseFloat(M.toFixed(3))+parseFloat((view_preparacoes[d].iodo*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),$=parseFloat($.toFixed(3))+parseFloat((view_preparacoes[d].cobre*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),S=parseFloat(S.toFixed(3))+parseFloat((view_preparacoes[d].zinco*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),C=parseFloat(C.toFixed(3))+parseFloat((view_preparacoes[d].sodio*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),I=parseFloat(I.toFixed(3))+parseFloat((view_preparacoes[d].gordura_total*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),k=parseFloat(k.toFixed(3))+parseFloat((view_preparacoes[d].colesterol*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),A=parseFloat(A.toFixed(3))+parseFloat((view_preparacoes[d].gordura_saturada*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),V=parseFloat(V.toFixed(3))+parseFloat((view_preparacoes[d].gordura_poliinsaturada*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),E=parseFloat(E.toFixed(3))+parseFloat((view_preparacoes[d].gordura_monoinsaturada*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(3)),O=parseFloat(O.toFixed(2))+parseFloat((view_preparacoes[d].valor*view_preparacoes[d].p_liquido/view_preparacoes[d].medida_base).toFixed(2)));energia=parseFloat(energia.toFixed(3))-parseFloat((s*r.html()/view_preparacoes[P].medida_total).toFixed(3)),carboidratos=parseFloat(carboidratos.toFixed(3))-parseFloat((l*r.html()/view_preparacoes[P].medida_total).toFixed(3)),proteinas=parseFloat(proteinas.toFixed(3))-parseFloat((n*r.html()/view_preparacoes[P].medida_total).toFixed(3)),lipidios=parseFloat(lipidios.toFixed(3))-parseFloat((p*r.html()/view_preparacoes[P].medida_total).toFixed(3)),fibras=parseFloat(fibras.toFixed(3))-parseFloat((_*r.html()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_a=parseFloat(vitamina_a.toFixed(3))-parseFloat((c*r.html()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_c=parseFloat(vitamina_c.toFixed(3))-parseFloat((m*r.html()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_d=parseFloat(vitamina_d.toFixed(3))-parseFloat((F*r.html()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_e=parseFloat(vitamina_e.toFixed(3))-parseFloat((v*r.html()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_b1=parseFloat(vitamina_b1.toFixed(3))-parseFloat((u*r.html()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_b2=parseFloat(vitamina_b2.toFixed(3))-parseFloat((f*r.html()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_b6=parseFloat(vitamina_b6.toFixed(3))-parseFloat((x*r.html()/view_preparacoes[P].medida_total).toFixed(3)),vitamina_b12=parseFloat(vitamina_b12.toFixed(3))-parseFloat((w*r.html()/view_preparacoes[P].medida_total).toFixed(3)),niacina=parseFloat(niacina.toFixed(3))-parseFloat((g*r.html()/view_preparacoes[P].medida_total).toFixed(3)),folico=parseFloat(folico.toFixed(3))-parseFloat((h*r.html()/view_preparacoes[P].medida_total).toFixed(3)),pantotenico=parseFloat(pantotenico.toFixed(3))-parseFloat((D*r.html()/view_preparacoes[P].medida_total).toFixed(3)),calcio=parseFloat(calcio.toFixed(3))-parseFloat((z*r.html()/view_preparacoes[P].medida_total).toFixed(3)),ferro=parseFloat(ferro.toFixed(3))-parseFloat((T*r.html()/view_preparacoes[P].medida_total).toFixed(3)),magnesio=parseFloat(magnesio.toFixed(3))-parseFloat((y*r.html()/view_preparacoes[P].medida_total).toFixed(3)),potassio=parseFloat(potassio.toFixed(3))-parseFloat((R*r.html()/view_preparacoes[P].medida_total).toFixed(3)),selenio=parseFloat(selenio.toFixed(3))-parseFloat((q*r.html()/view_preparacoes[P].medida_total).toFixed(3)),fosforo=parseFloat(fosforo.toFixed(3))-parseFloat((Y*r.html()/view_preparacoes[P].medida_total).toFixed(3)),iodo=parseFloat(iodo.toFixed(3))-parseFloat((M*r.html()/view_preparacoes[P].medida_total).toFixed(3)),cobre=parseFloat(cobre.toFixed(3))-parseFloat(($*r.html()/view_preparacoes[P].medida_total).toFixed(3)),zinco=parseFloat(zinco.toFixed(3))-parseFloat((S*r.html()/view_preparacoes[P].medida_total).toFixed(3)),sodio=parseFloat(sodio.toFixed(3))-parseFloat((C*r.html()/view_preparacoes[P].medida_total).toFixed(3)),gordura_total=parseFloat(gordura_total.toFixed(3))-parseFloat((I*r.html()/view_preparacoes[P].medida_total).toFixed(3)),colesterol=parseFloat(colesterol.toFixed(3))-parseFloat((k*r.html()/view_preparacoes[P].medida_total).toFixed(3)),gordura_saturada=parseFloat(gordura_saturada.toFixed(3))-parseFloat((A*r.html()/view_preparacoes[P].medida_total).toFixed(3)),gordura_poliinsaturada=parseFloat(gordura_poliinsaturada.toFixed(3))-parseFloat((V*r.html()/view_preparacoes[P].medida_total).toFixed(3)),gordura_monoinsaturada=parseFloat(gordura_monoinsaturada.toFixed(3))-parseFloat((E*r.html()/view_preparacoes[P].medida_total).toFixed(3)),valor=parseFloat(valor.toFixed(2))-parseFloat((O*r.html()/view_preparacoes[P].medida_total).toFixed(2))}atualizaTabelaReferencia(energia/numero_dias,referencia_modalidade.calorias,"#span_p_calorias"),atualizaTabelaReferencia(carboidratos/numero_dias,referencia_modalidade.carboidratos,"#span_p_carboidratos"),atualizaTabelaReferencia(proteinas/numero_dias,referencia_modalidade.proteinas,"#span_p_proteinas"),atualizaTabelaReferencia(lipidios/numero_dias,referencia_modalidade.lipidios,"#span_p_lipidios"),atualizaTabelaReferencia(fibras/numero_dias,referencia_modalidade.fibras,"#span_p_fibras"),atualizaTabelaReferencia(vitamina_a/numero_dias,referencia_modalidade.vitamina_a,"#span_p_vit_a"),atualizaTabelaReferencia(vitamina_c/numero_dias,referencia_modalidade.vitamina_c,"#span_p_vit_c"),atualizaTabelaReferencia(vitamina_d/numero_dias,referencia_modalidade.vitamina_d,"#span_p_vit_d"),atualizaTabelaReferencia(vitamina_e/numero_dias,referencia_modalidade.vitamina_e,"#span_p_vit_e"),atualizaTabelaReferencia(vitamina_b1/numero_dias,referencia_modalidade.vitamina_b1,"#span_p_vit_b1"),atualizaTabelaReferencia(vitamina_b2/numero_dias,referencia_modalidade.vitamina_b2,"#span_p_vit_b2"),atualizaTabelaReferencia(vitamina_b6/numero_dias,referencia_modalidade.vitamina_b6,"#span_p_vit_b6"),atualizaTabelaReferencia(vitamina_b12/numero_dias,referencia_modalidade.vitamina_b12,"#span_p_vit_b12"),atualizaTabelaReferencia(niacina/numero_dias,referencia_modalidade.niacina,"#span_p_niacina"),atualizaTabelaReferencia(folico/numero_dias,referencia_modalidade.folico,"#span_p_folico"),atualizaTabelaReferencia(pantotenico/numero_dias,referencia_modalidade.pantotenico,"#span_p_pantotenico"),atualizaTabelaReferencia(calcio/numero_dias,referencia_modalidade.calcio,"#span_p_calcio"),atualizaTabelaReferencia(ferro/numero_dias,referencia_modalidade.ferro,"#span_p_ferro"),atualizaTabelaReferencia(magnesio/numero_dias,referencia_modalidade.magnesio,"#span_p_magnesio"),atualizaTabelaReferencia(potassio/numero_dias,referencia_modalidade.potassio,"#span_p_potassio"),atualizaTabelaReferencia(selenio/numero_dias,referencia_modalidade.selenio,"#span_p_selenio"),atualizaTabelaReferencia(fosforo/numero_dias,referencia_modalidade.fosforo,"#span_p_fosforo"),atualizaTabelaReferencia(iodo/numero_dias,referencia_modalidade.iodo,"#span_p_iodo"),atualizaTabelaReferencia(cobre/numero_dias,referencia_modalidade.cobre,"#span_p_cobre"),atualizaTabelaReferencia(zinco/numero_dias,referencia_modalidade.zinco,"#span_p_zinco"),atualizaTabelaReferencia(sodio/numero_dias,referencia_modalidade.sodio,"#span_p_sodio"),atualizaTabelaReferencia(gordura_total/numero_dias,referencia_modalidade.gordura_total,"#span_p_g_total"),atualizaTabelaReferencia(colesterol/numero_dias,referencia_modalidade.colesterol,"#span_p_colesterol"),atualizaTabelaReferencia(gordura_saturada/numero_dias,referencia_modalidade.gordura_saturada,"#span_p_g_saturada"),atualizaTabelaReferencia(gordura_poliinsaturada/numero_dias,referencia_modalidade.gordura_poliinsaturada,"#span_p_g_poliinsaturada"),atualizaTabelaReferencia(gordura_monoinsaturada/numero_dias,referencia_modalidade.gordura_monoinsaturada,"#span_p_g_monoinsaturada"),adicionaLinhaTabela(),grafico(),a("#calorias").val(parseFloat(energia/numero_dias).toFixed(3)),a("#carboidratos").val(parseFloat(carboidratos/numero_dias).toFixed(3)),a("#proteinas").val(parseFloat(proteinas/numero_dias).toFixed(3)),a("#lipidios").val(parseFloat(lipidios/numero_dias).toFixed(3)),a("#fibras").val(parseFloat(fibras/numero_dias).toFixed(3)),a("#vitamina_a").val(parseFloat(vitamina_a/numero_dias).toFixed(3)),a("#vitamina_c").val(parseFloat(vitamina_c/numero_dias).toFixed(3)),a("#vitamina_d").val(parseFloat(vitamina_d/numero_dias).toFixed(3)),a("#vitamina_e").val(parseFloat(vitamina_e/numero_dias).toFixed(3)),a("#vitamina_b1").val(parseFloat(vitamina_b1/numero_dias).toFixed(3)),a("#vitamina_b2").val(parseFloat(vitamina_b2/numero_dias).toFixed(3)),a("#vitamina_b6").val(parseFloat(vitamina_b6/numero_dias).toFixed(3)),a("#vitamina_b12").val(parseFloat(vitamina_b12/numero_dias).toFixed(3)),a("#niacina").val(parseFloat(niacina/numero_dias).toFixed(3)),a("#folico").val(parseFloat(folico/numero_dias).toFixed(3)),a("#pantotenico").val(parseFloat(pantotenico/numero_dias).toFixed(3)),a("#calcio").val(parseFloat(calcio/numero_dias).toFixed(3)),a("#ferro").val(parseFloat(ferro/numero_dias).toFixed(3)),a("#magnesio").val(parseFloat(magnesio/numero_dias).toFixed(3)),a("#potassio").val(parseFloat(potassio/numero_dias).toFixed(3)),a("#selenio").val(parseFloat(selenio/numero_dias).toFixed(3)),a("#fosforo").val(parseFloat(fosforo/numero_dias).toFixed(3)),a("#iodo").val(parseFloat(iodo/numero_dias).toFixed(3)),a("#cobre").val(parseFloat(cobre/numero_dias).toFixed(3)),a("#zinco").val(parseFloat(zinco/numero_dias).toFixed(3)),a("#sodio").val(parseFloat(sodio/numero_dias).toFixed(3)),a("#gordura_total").val(parseFloat(gordura_total/numero_dias).toFixed(3)),a("#colesterol").val(parseFloat(colesterol/numero_dias).toFixed(3)),a("#gordura_saturada").val(parseFloat(gordura_saturada/numero_dias).toFixed(3)),a("#gordura_poliinsaturada").val(parseFloat(gordura_poliinsaturada/numero_dias).toFixed(3)),a("#gordura_monoinsaturada").val(parseFloat(gordura_monoinsaturada/numero_dias).toFixed(3)),a("#valor").val(parseFloat(valor).toFixed(2)),notificacao_sucesso("Item <b>removido</b> com sucesso.")})})}(e),f(e)}a("#div_collapsed").boxWidget("collapse"),a("#filtro-nome").keyup(function(){var e=a(this).val().toLowerCase();a("table tbody").find("tr").each(function(){var i=a(this).find("td:first").text().toLowerCase().indexOf(e)>=0;a(this).css("display",i?"":"none")})}),a("#table_calc").prop("hidden",!1),"undefined"!=typeof edit&&1==edit?a("#div_import").prop("hidden",!0):a("#div_import").prop("hidden",!1),d.getDay()>0?(removeClasse("#li_"+d.getDay(),"disabled"),adicionaClasse("#li_"+d.getDay(),"active"),adicionaAtributo("#a_"+d.getDay(),"data-toggle","tab"),adicionaClasse("#tab_"+d.getDay(),"active")):document.getElementById("data_invalida").style.display="inline",a('input[name="reservation"]').on("apply.daterangepicker",function(a,e){p()||(document.getElementById("data_invalida").style.display="none")}),a('input[name="reservation"]').on("cancel.daterangepicker",function(a,e){}),a("#reservation").change(function(){}),a("#select_escola").change(function(){var e=a("#select_escola").val();e>0?function(e){var o=a("#select_modalidade"),t='<option value="0">Selecione uma opção</option>',r="";if(e>0){if("undefined"!=typeof modalidades_escola)for(i in modalidades_escola)e==modalidades_escola[i].id_escola&&(r=1==modalidades_escola[i].categoria_ensino&&1==modalidades_escola[i].idade_alunos?"Creche (7 - 11 meses)":1==modalidades_escola[i].categoria_ensino&&2==modalidades_escola[i].idade_alunos?"Creche (1 - 3 anos)":2==modalidades_escola[i].categoria_ensino&&3==modalidades_escola[i].idade_alunos?"Pré-escola (4 - 5 anos)":3==modalidades_escola[i].categoria_ensino&&4==modalidades_escola[i].idade_alunos?"Ensino Fundamental (6 - 10 anos)":3==modalidades_escola[i].categoria_ensino&&5==modalidades_escola[i].idade_alunos?"Ensino Fundamental (11 - 15 anos)":4==modalidades_escola[i].categoria_ensino&&6==modalidades_escola[i].idade_alunos?"Ensino Fundamental (16 - 18 anos)":5==modalidades_escola[i].categoria_ensino&&7==modalidades_escola[i].idade_alunos?"EJA (19 - 30 anos)":"EJA (31 - 60 anos)",t+='<option value= "'+modalidades_escola[i].id+'">'+r+"</option>")}else t='<option value="0">Selecione uma opção</option>';o.empty(),o.html(t)}(e):(a("#select_modalidade").empty(),a("#select_modalidade").html('<option value="0">Selecione uma opção</option>'),m())}),a("#select_item_add1").change(function(){_(1),c(1)}),a("#select_item_add2").change(function(){_(2),c(2)}),a("#select_item_add3").change(function(){_(3),c(3)}),a("#select_item_add4").change(function(){_(4),c(4)}),a("#select_item_add5").change(function(){_(5),c(5)}),a("#select_item_add6").change(function(){_(6),c(6)}),a("#select_medida1").change(function(){var e=a("#select_medida1 option:selected");if(1==e.val())a("#p_liquido1").prop("disabled",!1);else if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#p_liquido1").val(parseFloat(medidas_itens[i].medida).toFixed(3));else a("#p_liquido1").empty(),a("#p_liquido1").prop("disabled",!0)}),a("#select_medida2").change(function(){var e=a("#select_medida2 option:selected");if(1==e.val())a("#p_liquido2").prop("disabled",!1);else if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#p_liquido2").val(parseFloat(medidas_itens[i].medida).toFixed(3));else a("#p_liquido2").empty(),a("#p_liquido2").prop("disabled",!0)}),a("#select_medida3").change(function(){var e=a("#select_medida3 option:selected");if(1==e.val())a("#p_liquido3").prop("disabled",!1);else if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#p_liquido3").val(parseFloat(medidas_itens[i].medida).toFixed(3));else a("#p_liquido3").empty(),a("#p_liquido3").prop("disabled",!0)}),a("#select_medida4").change(function(){var e=a("#select_medida4 option:selected");if(1==e.val())a("#p_liquido4").prop("disabled",!1);else if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#p_liquido4").val(parseFloat(medidas_itens[i].medida).toFixed(3));else a("#p_liquido4").empty(),a("#p_liquido4").prop("disabled",!0)}),a("#select_medida5").change(function(){var e=a("#select_medida5 option:selected");if(1==e.val())a("#p_liquido5").prop("disabled",!1);else if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#p_liquido5").val(parseFloat(medidas_itens[i].medida).toFixed(3));else a("#p_liquido5").empty(),a("#p_liquido5").prop("disabled",!0)}),a("#select_medida6").change(function(){var e=a("#select_medida6 option:selected");if(1==e.val())a("#p_liquido6").prop("disabled",!1);else if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#p_liquido6").val(parseFloat(medidas_itens[i].medida).toFixed(3));else a("#p_liquido6").empty(),a("#p_liquido6").prop("disabled",!0)}),a("#select_medida_edit").change(function(){var e=a("#select_medida_edit option:selected");if(1==e.val())a("#p_liquido_edit").prop("disabled",!1);else if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#p_liquido_edit").val(parseFloat(medidas_itens[i].medida).toFixed(3));else a("#p_liquido_edit").empty(),a("#p_liquido_edit").prop("disabled",!0)}),a("#select_tipo_refeicao1").change(function(){a("#select_tipo_refeicao1 option:selected").val()>0?(o(1),a("#select_item_add1").empty(),a("#select_item_add1").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add1").selectpicker("refresh")):(a("#select_tipo_item1").empty(),a("#select_fonte1").empty(),a("#select_item_add1").empty(),a("#select_tipo_item1").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte1").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add1").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add1").selectpicker("refresh"))}),a("#select_tipo_refeicao2").change(function(){a("#select_tipo_refeicao2 option:selected").val()>0?(o(2),a("#select_item_add2").empty(),a("#select_item_add2").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add2").selectpicker("refresh")):(a("#select_fonte2").empty(),a("#select_item_add2").empty(),a("#select_tipo_item2").empty(),a("#select_tipo_item2").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte2").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add2").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add2").selectpicker("refresh"))}),a("#select_tipo_refeicao3").change(function(){a("#select_tipo_refeicao3 option:selected").val()>0?(o(3),a("#select_item_add3").empty(),a("#select_item_add3").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add3").selectpicker("refresh")):(a("#select_fonte3").empty(),a("#select_item_add3").empty(),a("#select_tipo_item3").empty(),a("#select_tipo_item3").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte3").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add3").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add3").selectpicker("refresh"))}),a("#select_tipo_refeicao4").change(function(){a("#select_tipo_refeicao4 option:selected").val()>0?(o(4),a("#select_item_add4").empty(),a("#select_item_add4").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add4").selectpicker("refresh")):(a("#select_fonte4").empty(),a("#select_item_add4").empty(),a("#select_tipo_item4").empty(),a("#select_tipo_item4").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte4").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add4").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add4").selectpicker("refresh"))}),a("#select_tipo_refeicao5").change(function(){a("#select_tipo_refeicao5 option:selected").val()>0?(o(5),a("#select_item_add5").empty(),a("#select_item_add5").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add5").selectpicker("refresh")):(a("#select_fonte5").empty(),a("#select_item_add5").empty(),a("#select_tipo_item5").empty(),a("#select_tipo_item5").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte5").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add5").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add5").selectpicker("refresh"))}),a("#select_tipo_refeicao6").change(function(){a("#select_tipo_refeicao6 option:selected").val()>0?(o(6),a("#select_item_add6").empty(),a("#select_item_add6").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add6").selectpicker("refresh")):(a("#select_fonte6").empty(),a("#select_item_add6").empty(),a("#select_tipo_item6").empty(),a("#select_tipo_item6").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte6").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add6").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add6").selectpicker("refresh"))}),a("#select_tipo_item1").change(function(){t(1),s(1),1==a("#select_tipo_item1").val()?a("#select_fonte1").prop("disabled",!1):2==a("#select_tipo_item1").val()?a("#select_fonte1").prop("disabled",!0):(a("#select_fonte1").empty(),a("#select_fonte1").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte1").prop("disabled",!1),a("#select_item_add1").empty(),a("#select_item_add1").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add1").selectpicker("refresh"))}),a("#select_tipo_item2").change(function(){t(2),s(2),1==a("#select_tipo_item2").val()?a("#select_fonte2").prop("disabled",!1):2==a("#select_tipo_item2").val()?a("#select_fonte2").prop("disabled",!0):(a("#select_fonte2").empty(),a("#select_fonte2").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte2").prop("disabled",!1),a("#select_item_add2").empty(),a("#select_item_add2").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add2").selectpicker("refresh"))}),a("#select_tipo_item3").change(function(){t(3),s(3),1==a("#select_tipo_item3").val()?a("#select_fonte3").prop("disabled",!1):2==a("#select_tipo_item3").val()?a("#select_fonte3").prop("disabled",!0):(a("#select_fonte3").empty(),a("#select_fonte3").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte3").prop("disabled",!1),a("#select_item_add3").empty(),a("#select_item_add3").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add3").selectpicker("refresh"))}),a("#select_tipo_item4").change(function(){t(4),s(4),1==a("#select_tipo_item4").val()?a("#select_fonte4").prop("disabled",!1):2==a("#select_tipo_item4").val()?a("#select_fonte4").prop("disabled",!0):(a("#select_fonte4").empty(),a("#select_fonte4").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte4").prop("disabled",!1),a("#select_item_add4").empty(),a("#select_item_add4").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add4").selectpicker("refresh"))}),a("#select_tipo_item5").change(function(){t(5),s(5),1==a("#select_tipo_item5").val()?a("#select_fonte5").prop("disabled",!1):2==a("#select_tipo_item5").val()?a("#select_fonte5").prop("disabled",!0):(a("#select_fonte5").empty(),a("#select_fonte5").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte5").prop("disabled",!1),a("#select_item_add5").empty(),a("#select_item_add5").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add5").selectpicker("refresh"))}),a("#select_tipo_item6").change(function(){t(6),s(6),1==a("#select_tipo_item6").val()?a("#select_fonte6").prop("disabled",!1):2==a("#select_tipo_item6").val()?a("#select_fonte6").prop("disabled",!0):(a("#select_fonte6").empty(),a("#select_fonte6").html('<option value="0">Selecione uma opção</option>'),a("#select_fonte6").prop("disabled",!1),a("#select_item_add6").empty(),a("#select_item_add6").html('<option value="0">Selecione uma opção</option>'),a("#select_item_add6").selectpicker("refresh"))}),a("#p_liquido1").change(function(){var e=a("#select_medida1 option:selected");if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#select_medida1").val(medidas_itens[i].unidade_medida)}),a("#p_liquido_edit").change(function(){var e=a("#select_medida_edit option:selected");if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#select_medida_edit").val(medidas_itens[i].unidade_medida)}),a("#p_liquido2").change(function(){var e=a("#select_medida2 option:selected");if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#select_medida2").val(medidas_itens[i].unidade_medida)}),a("#p_liquido3").change(function(){var e=a("#select_medida3 option:selected");if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#select_medida3").val(medidas_itens[i].unidade_medida)}),a("#p_liquido4").change(function(){var e=a("#select_medida4 option:selected");if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#select_medida4").val(medidas_itens[i].unidade_medida)}),a("#p_liquido5").change(function(){var e=a("#select_medida5 option:selected");if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#select_medida5").val(medidas_itens[i].unidade_medida)}),a("#p_liquido6").change(function(){var e=a("#select_medida6 option:selected");if(e.val()>1)for(var i in medidas_itens)null!=medidas_itens.hasOwnProperty(i)&&medidas_itens[i].id==e.val()&&a("#select_medida6").val(medidas_itens[i].unidade_medida)}),a("#concluir_edicao").click(function(){(function(e){var i=!1,o=a("#select_medida_edit option:selected"),t=a("#p_liquido_edit");o.val()<=0?(i=!0,notificacao_alerta("Selecine uma Unidade de Medida para o <b>Item</b>.")):0==t.val()&&(i=!0,notificacao_alerta("Insira uma Quantidade Per Capta válida para o <b>Item</b>."));return i})()||(1==editando1?(u(1,posicaoEditar1),editando1=!1):1==editando2?(u(2,posicaoEditar2),editando2=!1):1==editando3?(u(3,posicaoEditar3),editando3=!1):1==editando4?(u(4,posicaoEditar4),editando4=!1):1==editando5?(u(5,posicaoEditar5),editando5=!1):(u(6,posicaoEditar6),editando6=!1),notificacao_sucesso("Item <b>editado</b> com sucesso."),a("#editar_item").modal("hide"),b())}),a("#select_modalidade").change(function(){if($formModalidadeSelected=a("#select_modalidade option:selected"),0==$formModalidadeSelected.val())m();else{a("#fieldset_1").prop("disabled",!1),a("#fieldset_2").prop("disabled",!1),a("#fieldset_3").prop("disabled",!1),a("#fieldset_4").prop("disabled",!1),a("#fieldset_5").prop("disabled",!1),a("#fieldset_6").prop("disabled",!1),a("#select_item_add1").selectpicker("refresh"),a("#select_item_add2").selectpicker("refresh"),a("#select_item_add3").selectpicker("refresh"),a("#select_item_add4").selectpicker("refresh"),a("#select_item_add5").selectpicker("refresh"),a("#select_item_add6").selectpicker("refresh");for(var e=1;e<=6;e++)criaOpcaoRefeicoes(e);for(var e in modalidades_escola)if($formModalidadeSelected.val()==modalidades_escola[e].id)for(var i in referencias)modalidades_escola[e].id_referencia==referencias[i].id&&(referencia_modalidade=referencias[i]);a("#nome_referencia").empty(),a("#nome_referencia").html(referencia_modalidade.nome),a("#descricao_referencia").empty(),a("#descricao_referencia").html(referencia_modalidade.descricao),a("#categoria_referencia").empty(),a("#idade_referencia").empty(),1==referencia_modalidade.categoria_ensino?(a("#categoria_referencia").html("Creche"),1==referencia_modalidade.idade_alunos?a("#idade_referencia").html("7 - 11 meses"):a("#idade_referencia").html("1 - 3 anos")):2==referencia_modalidade.categoria_ensino?(a("#categoria_referencia").html("Pré-escola"),a("#idade_referencia").html("4 - 5 anos")):3==referencia_modalidade.categoria_ensino?(a("#categoria_referencia").html("Ensino Fundamental"),4==referencia_modalidade.idade_alunos?a("#idade_referencia").html("6 - 10 anos"):a("#idade_referencia").html("11 - 15 anos")):4==referencia_modalidade.categoria_ensino?(a("#categoria_referencia").html("Ensino Médio"),a("#idade_referencia").html("16 - 18 anos")):(a("#categoria_referencia").html("EJA"),7==referencia_modalidade.idade_alunos?a("#idade_referencia").html("19 - 30 anos"):a("#idade_referencia").html("31 - 60 anos")),a("#calorias_ref").val(referencia_modalidade.calorias),a("#carboidratos_ref").val(referencia_modalidade.carboidratos),a("#proteinas_ref").val(referencia_modalidade.proteinas),a("#lipidios_ref").val(referencia_modalidade.lipidios),a("#fibras_ref").val(referencia_modalidade.fibras),a("#vitamina_a_ref").val(referencia_modalidade.vitamina_a),a("#vitamina_c_ref").val(referencia_modalidade.vitamina_c),a("#vitamina_d_ref").val(referencia_modalidade.vitamina_d),a("#vitamina_e_ref").val(referencia_modalidade.vitamina_e),a("#vitamina_b1_ref").val(referencia_modalidade.vitamina_b1),a("#vitamina_b2_ref").val(referencia_modalidade.vitamina_b2),a("#vitamina_b6_ref").val(referencia_modalidade.vitamina_b6),a("#vitamina_b12_ref").val(referencia_modalidade.vitamina_b12),a("#niacina_ref").val(referencia_modalidade.niacina),a("#folico_ref").val(referencia_modalidade.folico),a("#pantotenico_ref").val(referencia_modalidade.pantotenico),a("#calcio_ref").val(referencia_modalidade.calcio),a("#ferro_ref").val(referencia_modalidade.ferro),a("#magnesio_ref").val(referencia_modalidade.magnesio),a("#potassio_ref").val(referencia_modalidade.potassio),a("#selenio_ref").val(referencia_modalidade.selenio),a("#fosforo_ref").val(referencia_modalidade.fosforo),a("#iodo_ref").val(referencia_modalidade.iodo),a("#cobre_ref").val(referencia_modalidade.cobre),a("#zinco_ref").val(referencia_modalidade.zinco),a("#sodio_ref").val(referencia_modalidade.sodio),a("#gordura_total_ref").val(referencia_modalidade.gordura_total),a("#colesterol_ref").val(referencia_modalidade.colesterol),a("#gordura_saturada_ref").val(referencia_modalidade.gordura_saturada),a("#gordura_poliinsaturada_ref").val(referencia_modalidade.gordura_poliinsaturada),a("#gordura_monoinsaturada_ref").val(referencia_modalidade.gordura_monoinsaturada),atualizaTabelaReferencia(energia/numero_dias,referencia_modalidade.calorias,"#span_p_calorias"),atualizaTabelaReferencia(carboidratos/numero_dias,referencia_modalidade.carboidratos,"#span_p_carboidratos"),atualizaTabelaReferencia(proteinas/numero_dias,referencia_modalidade.proteinas,"#span_p_proteinas"),atualizaTabelaReferencia(lipidios/numero_dias,referencia_modalidade.lipidios,"#span_p_lipidios"),atualizaTabelaReferencia(fibras/numero_dias,referencia_modalidade.fibras,"#span_p_fibras"),atualizaTabelaReferencia(vitamina_a/numero_dias,referencia_modalidade.vitamina_a,"#span_p_vit_a"),atualizaTabelaReferencia(vitamina_c/numero_dias,referencia_modalidade.vitamina_c,"#span_p_vit_c"),atualizaTabelaReferencia(vitamina_d/numero_dias,referencia_modalidade.vitamina_d,"#span_p_vit_d"),atualizaTabelaReferencia(vitamina_e/numero_dias,referencia_modalidade.vitamina_e,"#span_p_vit_e"),atualizaTabelaReferencia(vitamina_b1/numero_dias,referencia_modalidade.vitamina_b1,"#span_p_vit_b1"),atualizaTabelaReferencia(vitamina_b2/numero_dias,referencia_modalidade.vitamina_b2,"#span_p_vit_b2"),atualizaTabelaReferencia(vitamina_b6/numero_dias,referencia_modalidade.vitamina_b6,"#span_p_vit_b6"),atualizaTabelaReferencia(vitamina_b12/numero_dias,referencia_modalidade.vitamina_b12,"#span_p_vit_b12"),atualizaTabelaReferencia(niacina/numero_dias,referencia_modalidade.niacina,"#span_p_niacina"),atualizaTabelaReferencia(folico/numero_dias,referencia_modalidade.folico,"#span_p_folico"),atualizaTabelaReferencia(pantotenico/numero_dias,referencia_modalidade.pantotenico,"#span_p_pantotenico"),atualizaTabelaReferencia(calcio/numero_dias,referencia_modalidade.calcio,"#span_p_calcio"),atualizaTabelaReferencia(ferro/numero_dias,referencia_modalidade.ferro,"#span_p_ferro"),atualizaTabelaReferencia(magnesio/numero_dias,referencia_modalidade.magnesio,"#span_p_magnesio"),atualizaTabelaReferencia(potassio/numero_dias,referencia_modalidade.potassio,"#span_p_potassio"),atualizaTabelaReferencia(selenio/numero_dias,referencia_modalidade.selenio,"#span_p_selenio"),atualizaTabelaReferencia(fosforo/numero_dias,referencia_modalidade.fosforo,"#span_p_fosforo"),atualizaTabelaReferencia(iodo/numero_dias,referencia_modalidade.iodo,"#span_p_iodo"),atualizaTabelaReferencia(cobre/numero_dias,referencia_modalidade.cobre,"#span_p_cobre"),atualizaTabelaReferencia(zinco/numero_dias,referencia_modalidade.zinco,"#span_p_zinco"),atualizaTabelaReferencia(sodio/numero_dias,referencia_modalidade.sodio,"#span_p_sodio"),atualizaTabelaReferencia(gordura_total/numero_dias,referencia_modalidade.gordura_total,"#span_p_g_total"),atualizaTabelaReferencia(colesterol/numero_dias,referencia_modalidade.colesterol,"#span_p_colesterol"),atualizaTabelaReferencia(gordura_saturada/numero_dias,referencia_modalidade.gordura_saturada,"#span_p_g_saturada"),atualizaTabelaReferencia(gordura_poliinsaturada/numero_dias,referencia_modalidade.gordura_poliinsaturada,"#span_p_g_poliinsaturada"),atualizaTabelaReferencia(gordura_monoinsaturada/numero_dias,referencia_modalidade.gordura_monoinsaturada,"#span_p_g_monoinsaturada")}}),a("#select_fonte1").change(function(){s(1)}),a("#select_fonte2").change(function(){s(2)}),a("#select_fonte3").change(function(){s(3)}),a("#select_fonte4").change(function(){s(4)}),a("#select_fonte5").change(function(){s(5)}),a("#select_fonte6").change(function(){s(6)}),b(1),b(2),b(3),b(4),b(5),b(6),a("#div_collapsed").on("expanded.boxwidget",function(a){grafico()}),a("#botaoAdicionar1").click(function(){F(1)||(1==listaVazia1&&a("#listaVazia1").hide(),v(1),listaVazia1=!1,listaTamanho1++,listaTamanhoTotal++,notificacao_sucesso("Item <b>adicionado</b> com sucesso."),limparCamposItem(1),ordenaRefeicoes(".listaItem1","#listaItens1"),b(1),adicionaLinhaTabela())}),a("#botaoAdicionar2").click(function(){F(2)||(1==listaVazia2&&a("#listaVazia2").hide(),v(2),listaVazia2=!1,listaTamanho2++,listaTamanhoTotal++,notificacao_sucesso("Item <b>adicionado</b> com sucesso."),limparCamposItem(2),ordenaRefeicoes(".listaItem2","#listaItens2"),b(2),adicionaLinhaTabela())}),a("#botaoAdicionar3").click(function(){F(3)||(1==listaVazia3&&a("#listaVazia3").hide(),v(3),listaVazia3=!1,listaTamanho3++,listaTamanhoTotal++,notificacao_sucesso("Item <b>adicionado</b> com sucesso."),limparCamposItem(3),ordenaRefeicoes(".listaItem3","#listaItens3"),b(3),adicionaLinhaTabela())}),a("#botaoAdicionar4").click(function(){F(4)||(1==listaVazia4&&a("#listaVazia4").hide(),v(4),listaVazia4=!1,listaTamanho4++,listaTamanhoTotal++,notificacao_sucesso("Item <b>adicionado</b> com sucesso."),limparCamposItem(4),ordenaRefeicoes(".listaItem4","#listaItens4"),b(4),adicionaLinhaTabela())}),a("#botaoAdicionar5").click(function(){F(5)||(1==listaVazia5&&a("#listaVazia5").hide(),v(5),listaVazia5=!1,listaTamanho5++,listaTamanhoTotal++,notificacao_sucesso("Item <b>adicionado</b> com sucesso."),limparCamposItem(5),ordenaRefeicoes(".listaItem5","#listaItens5"),b(5),adicionaLinhaTabela())}),a("#botaoAdicionar6").click(function(){F(6)||(1==listaVazia6&&a("#listaVazia6").hide(),v(6),listaVazia6=!1,listaTamanho6++,listaTamanhoTotal++,notificacao_sucesso("Item <b>adicionado</b> com sucesso."),limparCamposItem(6),ordenaRefeicoes(".listaItem6","#listaItens6"),b(6),adicionaLinhaTabela())}),a("#confBotaoEnviar").click(function(){if(!validaEnviarFormulario()&&!p()){for(var e=0,i=1;i<=6;i++)validaListaVazia(i)&&(e=1);0==e&&(a(this).addClass("disabled"),a(this).text("Enviando..."),function(){for(var e=a("#nome").val(),i=a("#descricao").val(),o=a("#select_modalidade option:selected").val(),t=a("#select_escola option:selected").val(),r=(a("#reservation").val(),a("#valor").val()),d=[],s=0,l=0,n=0,p=0,_=0,c=0,m=1;m<=6;m++)a("#li_"+m).hasClass("disabled")||validaListaVazia(m)||(a('var[class="idRefeicao'+m+'"]').each(function(l,n){d.hasOwnProperty(s)||(d[s]={nome:e,descricao:i,modalidade:o,escola:t,data_inicio:arr,data_fim:arr2,numero_dias:numero_dias,valor:r}),d[s].idRefeicao=a(this).html(),s++}),a('var[class="idTipoItem'+m+'"]').each(function(s,n){d.hasOwnProperty(l)||(d[l]={nome:e,descricao:i,modalidade:o,escola:t,data_inicio:arr,data_fim:arr2,numero_dias:numero_dias,valor:r}),d[l].idTipoItem=a(this).html(),l++}),a('var[class="diaSemana'+m+'"]').each(function(s,l){d.hasOwnProperty(n)||(d[n]={nome:e,descricao:i,modalidade:o,escola:t,data_inicio:arr,data_fim:arr2,numero_dias:numero_dias,valor:r}),d[n].diaSemana=a(this).html(),n++}),a('var[class="idItem'+m+'"]').each(function(s,l){d.hasOwnProperty(p)||(d[p]={nome:e,descricao:i,modalidade:o,escola:t,data_inicio:arr,data_fim:arr2,numero_dias:numero_dias,valor:r}),d[p].idItem=a(this).html(),p++}),a('var[class="idMedida'+m+'"]').each(function(s,l){d.hasOwnProperty(_)||(d[_]={nome:e,descricao:i,modalidade:o,escola:t,data_inicio:arr,data_fim:arr2,numero_dias:numero_dias,valor:r}),d[_].idMedida=a(this).html(),_++}),a('var[class="perCapta'+m+'"]').each(function(s,l){d.hasOwnProperty(c)||(d[c]={nome:e,descricao:i,modalidade:o,escola:t,data_inicio:arr,data_fim:arr2,numero_dias:numero_dias,valor:r}),d[c].perCapta=a(this).html(),c++}));a.ajaxSetup({headers:{"X-CSRF-TOKEN":a('meta[name="csrf-token"]').attr("content")}}),a.ajax({url:"/menu/save",type:"post",dataType:"text",data:{testdata:JSON.stringify(d)},success:function(a,e){mostraDialogo3(a)},error:function(a,e,i){alert("Erro")}})}())}})});
