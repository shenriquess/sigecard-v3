function mostraDialogo2(o,e){swal({title:"Aviso!",text:o,icon:e}).then(o=>{location.href=APP_URL+"/report/menus"})}function criaOpcaoModalidades(o){var e=$("#search3"),a='<option value="0">Selecione uma opção</option>',s="";if(o>0){if("undefined"!=typeof modalidades_escola)for(i in modalidades_escola)o==modalidades_escola[i].id_escola&&(s=1==modalidades_escola[i].categoria_ensino&&1==modalidades_escola[i].idade_alunos?"Creche (7 - 11 meses)":1==modalidades_escola[i].categoria_ensino&&2==modalidades_escola[i].idade_alunos?"Creche (1 - 3 anos)":2==modalidades_escola[i].categoria_ensino&&3==modalidades_escola[i].idade_alunos?"Pré-escola (4 - 5 anos)":3==modalidades_escola[i].categoria_ensino&&4==modalidades_escola[i].idade_alunos?"Ensino Fundamental (6 - 10 anos)":3==modalidades_escola[i].categoria_ensino&&5==modalidades_escola[i].idade_alunos?"Ensino Fundamental (11 - 15 anos)":4==modalidades_escola[i].categoria_ensino&&6==modalidades_escola[i].idade_alunos?"Ensino Fundamental (16 - 18 anos)":5==modalidades_escola[i].categoria_ensino&&7==modalidades_escola[i].idade_alunos?"EJA (19 - 30 anos)":"EJA (31 - 60 anos)",a+='<option value= "'+modalidades_escola[i].id+'">'+s+"</option>")}else a='<option value="0">Selecione uma opção</option>';e.empty(),e.html(a)}$(document).ready(function(o){o("#search").change(function(){var e=o("#search").val();e>0?criaOpcaoModalidades(e):(o("#search3").empty(),o("#search3").html('<option value="0">Selecione uma opção</option>'))}),o("#reservation2").daterangepicker({timePicker:!1,timePickerIncrement:0,locale:{format:"DD/MM/YYYY",cancelLabel:"Limpar"}}),o("#reservation2").daterangepicker({locale:{format:"DD/MM/YYYY",separator:" - ",applyLabel:"Aplicar",cancelLabel:"Cancelar",fromLabel:"De",toLabel:"Até",customRangeLabel:"Custom",daysOfWeek:["Do","Se","Te","Qu","Qu","Sx","Sa"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],firstDay:1}}),o('input[name="reservation2"]').on("cancel.daterangepicker",function(o,e){}),o("#tabela_cardapios").DataTable({columnDefs:[{targets:[0],createdCell:function(e,a,s,i,r){o(e).css("border-bottom-left-radius","5px"),o(e).css("border-top-left-radius","5px"),o(e).css("border-right","none"),o(e).css("border-left","5px solid #529d52"),o(e).css("border-bottom","1px solid #E2DFDF"),o(e).css("border-top","1px solid #E2DFDF")}},{targets:[1,2],createdCell:function(e,a,s,i,r){o(e).css("border-top","1px solid #E2DFDF"),o(e).css("border-bottom","1px solid #E2DFDF")}},{targets:[3],createdCell:function(e,a,s,i,r){o(e).css("border-bottom-right-radius","5px"),o(e).css("border-top-right-radius","5px"),o(e).css("border-left","none"),o(e).css("border-right","5px solid #529d52"),o(e).css("border-bottom","1px solid #E2DFDF"),o(e).css("border-top","1px solid #E2DFDF")}}],paging:!0,ordering:!1,info:!0,oLanguage:{sEmptyTable:"Nenhum registro encontrado na tabela",sInfo:"Mostrando _START_ a _END_ de _TOTAL_ registros",sInfoEmpty:"Mostrando 0 a 0 de 0 Registros",sInfoFiltered:"(Filtrado(s) de um total de _MAX_ registros)",sInfoPostFix:"",sInfoThousands:".",sLengthMenu:"Mostrar _MENU_ registros por página",sLoadingRecords:"Carregando...",sProcessing:"Processando...",sZeroRecords:"Nenhum registro encontrado",sSearch:"Filtrar: ",oPaginate:{sNext:"Próximo",sPrevious:"Anterior",sFirst:"Primeiro",sLast:"Último"},oAria:{sSortAscending:": Ordenar colunas de forma ascendente",sSortDescending:": Ordenar colunas de forma descendente"}}}),o.ajaxSetup({headers:{"X-CSRF-TOKEN":o('meta[name="csrf-token"]').attr("content")}}),o("#confBotaoEnviar").click(function(){cardapios.length>0?(o(this).addClass("disabled"),o(this).text("Enviando..."),o.ajax({url:"/report/menus_pdf",type:"post",dataType:"text",data:{testdata:JSON.stringify(cardapios)},success:function(o,e){window.open(APP_URL+"/report/"+o+"/merger_pdf","_blank"),mostraDialogo2("Relatório gerado com sucesso","success"),console.log("sucesso")},error:function(o,e,a){alert("Erro")}})):mostraDialogo2("Não há cardápios!","info")})});
