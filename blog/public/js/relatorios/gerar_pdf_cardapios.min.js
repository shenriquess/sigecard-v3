$(document).ready(function(e){function a(e,a){return new Date(a.getTime()+24*e*60*60*1e3)}function t(e,a){return new Date(a.getTime()-24*e*60*60*1e3)}e("#reservation").daterangepicker({timePicker:!1,timePickerIncrement:0,locale:{format:"DD/MM/YYYY"}});var i=[],o=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],r=0,d=0,s=0,p=0,_=0,n=0,l=0,c=0,F=0,m=0,x=0,v=0,h=0,w=0,g=0,f=0,u=0,b=0,D=0,M=0,y=0,Y=0,q=0,A=0,z=0,O=0,E=0,S=0,N=0,I=0,P=0,C=0;referencia_modalidade=[];var k=moment(cardapio.data_inicio,"YYYY-MM-DD"),J=moment(cardapio.data_fim,"YYYY-MM-DD");for(var R in modalidades_escola)if(cardapio.id_escola==modalidades_escola[R].id_escola)for(var T in referencias)modalidades_escola[R].id_referencia==referencias[T].id&&(referencia_modalidade=referencias[T]);e("#reservation").data("daterangepicker").setStartDate(k),e("#reservation").data("daterangepicker").setEndDate(J);var H,L,U,V=e("#reservation").val().split(" - "),$=moment(V[0],"DD/MM/YYYY"),j=moment(V[1],"DD/MM/YYYY"),B=(moment($.format("YYYY-MM-DD"),"YYYY-MM-DD"),moment(j.format("YYYY-MM-DD"),"YYYY-MM-DD"),e("#reservation").val().split(" - ")),G=(k=moment(B[0],"DD/MM/YYYY"),J=moment(B[1],"DD/MM/YYYY"),k.format("YYYY-MM-DD")),K=J.format("YYYY-MM-DD"),Q=G.match(/(\d+)/g),W=K.match(/(\d+)/g),X=(i=new Date(Q[0],Q[1]-1,Q[2],(new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds(),(new Date).getMilliseconds()),new Date(W[0],W[1]-1,W[2])),Z=Math.abs(X.getDay()-i.getDay())+1,ee="",ae=itens_cardapio[0].dia_semana;for(var T in itens_cardapio){if(1==itens_cardapio[T].tipo)for(var R in itens)null!=itens.hasOwnProperty(R)&&itens[R].id==itens_cardapio[T].id_item&&(r=parseFloat(r.toFixed(3))+parseFloat((itens[R].calorias*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),d=parseFloat(d.toFixed(3))+parseFloat((itens[R].carboidratos*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),s=parseFloat(s.toFixed(3))+parseFloat((itens[R].proteinas*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),p=parseFloat(p.toFixed(3))+parseFloat((itens[R].lipidios*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),_=parseFloat(_.toFixed(3))+parseFloat((itens[R].fibras*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),n=parseFloat(n.toFixed(3))+parseFloat((itens[R].vitamina_a*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),l=parseFloat(l.toFixed(3))+parseFloat((itens[R].vitamina_c*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),c=parseFloat(c.toFixed(3))+parseFloat((itens[R].vitamina_d*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),F=parseFloat(F.toFixed(3))+parseFloat((itens[R].vitamina_e*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),m=parseFloat(m.toFixed(3))+parseFloat((itens[R].vitamina_b1*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),x=parseFloat(x.toFixed(3))+parseFloat((itens[R].vitamina_b2*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),v=parseFloat(v.toFixed(3))+parseFloat((itens[R].vitamina_b6*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),h=parseFloat(h.toFixed(3))+parseFloat((itens[R].vitamina_b12*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),w=parseFloat(w.toFixed(3))+parseFloat((itens[R].niacina*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),g=parseFloat(g.toFixed(3))+parseFloat((itens[R].folico*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),f=parseFloat(f.toFixed(3))+parseFloat((itens[R].pantotenico*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),u=parseFloat(u.toFixed(3))+parseFloat((itens[R].calcio*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),b=parseFloat(b.toFixed(3))+parseFloat((itens[R].ferro*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),D=parseFloat(D.toFixed(3))+parseFloat((itens[R].magnesio*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),M=parseFloat(M.toFixed(3))+parseFloat((itens[R].potassio*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),y=parseFloat(y.toFixed(3))+parseFloat((itens[R].selenio*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),Y=parseFloat(Y.toFixed(3))+parseFloat((itens[R].fosforo*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),q=parseFloat(q.toFixed(3))+parseFloat((itens[R].iodo*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),A=parseFloat(A.toFixed(3))+parseFloat((itens[R].cobre*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),z=parseFloat(z.toFixed(3))+parseFloat((itens[R].zinco*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),O=parseFloat(O.toFixed(3))+parseFloat((itens[R].sodio*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),E=parseFloat(E.toFixed(3))+parseFloat((itens[R].gordura_total*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),S=parseFloat(S.toFixed(3))+parseFloat((itens[R].colesterol*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),N=parseFloat(N.toFixed(3))+parseFloat((itens[R].gordura_saturada*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),I=parseFloat(I.toFixed(3))+parseFloat((itens[R].gordura_poliinsaturada*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),P=parseFloat(P.toFixed(3))+parseFloat((itens[R].gordura_monoinsaturada*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(3)),C=parseFloat(C.toFixed(2))+parseFloat((itens[R].valor*itens_cardapio[T].per_capta_alimento/itens[R].medida_base).toFixed(2)));var te=0,ie=0,oe=0,re=0,de=0,se=0,pe=0,_e=0,ne=0,le=0,ce=0,Fe=0,me=0,xe=0,ve=0,he=0,we=0,ge=0,fe=0,ue=0,be=0,De=0,Me=0,ye=0,Ye=0,qe=0,Ae=0,ze=0,Oe=0,Ee=0,Se=0,Ne=0;if(2==itens_cardapio[T].tipo){var Ie=0;for(var R in view_preparacoes)null!=view_preparacoes.hasOwnProperty(R)&&view_preparacoes[R].id_preparacao==itens_cardapio[T].id_item&&(Ie=R,te=parseFloat(te.toFixed(3))+parseFloat((view_preparacoes[R].calorias*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),ie=parseFloat(ie.toFixed(3))+parseFloat((view_preparacoes[R].carboidratos*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),oe=parseFloat(oe.toFixed(3))+parseFloat((view_preparacoes[R].proteinas*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),re=parseFloat(re.toFixed(3))+parseFloat((view_preparacoes[R].lipidios*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),de=parseFloat(de.toFixed(3))+parseFloat((view_preparacoes[R].fibras*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),se=parseFloat(se.toFixed(3))+parseFloat((view_preparacoes[R].vitamina_a*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),pe=parseFloat(pe.toFixed(3))+parseFloat((view_preparacoes[R].vitamina_c*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),_e=parseFloat(_e.toFixed(3))+parseFloat((view_preparacoes[R].vitamina_d*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),ne=parseFloat(ne.toFixed(3))+parseFloat((view_preparacoes[R].vitamina_e*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),le=parseFloat(le.toFixed(3))+parseFloat((view_preparacoes[R].vitamina_b1*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),ce=parseFloat(ce.toFixed(3))+parseFloat((view_preparacoes[R].vitamina_b2*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),Fe=parseFloat(Fe.toFixed(3))+parseFloat((view_preparacoes[R].vitamina_b6*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),me=parseFloat(me.toFixed(3))+parseFloat((view_preparacoes[R].vitamina_b12*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),xe=parseFloat(xe.toFixed(3))+parseFloat((view_preparacoes[R].niacina*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),ve=parseFloat(ve.toFixed(3))+parseFloat((view_preparacoes[R].folico*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),he=parseFloat(he.toFixed(3))+parseFloat((view_preparacoes[R].pantotenico*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),we=parseFloat(we.toFixed(3))+parseFloat((view_preparacoes[R].calcio*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),ge=parseFloat(ge.toFixed(3))+parseFloat((view_preparacoes[R].ferro*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),fe=parseFloat(fe.toFixed(3))+parseFloat((view_preparacoes[R].magnesio*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),ue=parseFloat(ue.toFixed(3))+parseFloat((view_preparacoes[R].potassio*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),be=parseFloat(be.toFixed(3))+parseFloat((view_preparacoes[R].selenio*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),De=parseFloat(De.toFixed(3))+parseFloat((view_preparacoes[R].fosforo*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),Me=parseFloat(Me.toFixed(3))+parseFloat((view_preparacoes[R].iodo*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),ye=parseFloat(ye.toFixed(3))+parseFloat((view_preparacoes[R].cobre*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),Ye=parseFloat(Ye.toFixed(3))+parseFloat((view_preparacoes[R].zinco*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),qe=parseFloat(qe.toFixed(3))+parseFloat((view_preparacoes[R].sodio*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),Ae=parseFloat(Ae.toFixed(3))+parseFloat((view_preparacoes[R].gordura_total*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),ze=parseFloat(ze.toFixed(3))+parseFloat((view_preparacoes[R].colesterol*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),Oe=parseFloat(Oe.toFixed(3))+parseFloat((view_preparacoes[R].gordura_saturada*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),Ee=parseFloat(Ee.toFixed(3))+parseFloat((view_preparacoes[R].gordura_poliinsaturada*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),Se=parseFloat(Se.toFixed(3))+parseFloat((view_preparacoes[R].gordura_monoinsaturada*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(3)),Ne=parseFloat(Ne.toFixed(2))+parseFloat((view_preparacoes[R].valor*view_preparacoes[R].p_liquido/view_preparacoes[R].medida_base).toFixed(2)));r=parseFloat(r.toFixed(3))+parseFloat((te*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),d=parseFloat(d.toFixed(3))+parseFloat((ie*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),s=parseFloat(s.toFixed(3))+parseFloat((oe*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),p=parseFloat(p.toFixed(3))+parseFloat((re*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),_=parseFloat(_.toFixed(3))+parseFloat((de*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),n=parseFloat(n.toFixed(3))+parseFloat((se*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),l=parseFloat(l.toFixed(3))+parseFloat((pe*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),c=parseFloat(c.toFixed(3))+parseFloat((_e*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),F=parseFloat(F.toFixed(3))+parseFloat((ne*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),m=parseFloat(m.toFixed(3))+parseFloat((le*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),x=parseFloat(x.toFixed(3))+parseFloat((ce*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),v=parseFloat(v.toFixed(3))+parseFloat((Fe*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),h=parseFloat(h.toFixed(3))+parseFloat((me*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),w=parseFloat(w.toFixed(3))+parseFloat((xe*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),g=parseFloat(g.toFixed(3))+parseFloat((ve*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),f=parseFloat(f.toFixed(3))+parseFloat((he*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),u=parseFloat(u.toFixed(3))+parseFloat((we*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),b=parseFloat(b.toFixed(3))+parseFloat((ge*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),D=parseFloat(D.toFixed(3))+parseFloat((fe*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),M=parseFloat(M.toFixed(3))+parseFloat((ue*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),y=parseFloat(y.toFixed(3))+parseFloat((be*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),Y=parseFloat(Y.toFixed(3))+parseFloat((De*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),q=parseFloat(q.toFixed(3))+parseFloat((Me*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),A=parseFloat(A.toFixed(3))+parseFloat((ye*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),z=parseFloat(z.toFixed(3))+parseFloat((Ye*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),O=parseFloat(O.toFixed(3))+parseFloat((qe*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),E=parseFloat(E.toFixed(3))+parseFloat((Ae*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),S=parseFloat(S.toFixed(3))+parseFloat((ze*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),N=parseFloat(N.toFixed(3))+parseFloat((Oe*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),I=parseFloat(I.toFixed(3))+parseFloat((Ee*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),P=parseFloat(P.toFixed(3))+parseFloat((Se*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(3)),C=parseFloat(C.toFixed(2))+parseFloat((Ne*itens_cardapio[T].per_capta_alimento/view_preparacoes[Ie].medida_total).toFixed(2))}for(var R in itens_cardapio.length>1&&R>0&&itens_cardapio[T].dia_semana!=itens_cardapio[0].dia_semana&&itens_cardapio[T].dia_semana!=ae&&(ae=itens_cardapio[T].dia_semana),tipo_refeicoes)tipo_refeicoes[R].id==itens_cardapio[T].id_refeicao&&(horario=tipo_refeicoes[R].horario.split(":"),ee=60*horario[0]+horario[1]);var Pe="";Pe=itens_cardapio[T].id_unidade_medida>=1?"g":"";var Ce='<div class="listaItem'+itens_cardapio[T].dia_semana+'" horario_ref="'+ee+'"><li class="panel label-azul"><div class="row"><var class="idRefeicao'+itens_cardapio[T].dia_semana+'" style="display: none">'+itens_cardapio[T].id_refeicao+'</var><var class="idTipoItem'+itens_cardapio[T].dia_semana+'" style="display: none">'+itens_cardapio[T].tipo+'</var><var class="idItem'+itens_cardapio[T].dia_semana+'" style="display: none">'+itens_cardapio[T].id_item+'</var><var class="diaSemana'+itens_cardapio[T].dia_semana+'" style="display: none">'+itens_cardapio[T].dia_semana+'</var><var class="idMedida'+itens_cardapio[T].dia_semana+'" style="display: none">'+itens_cardapio[T].id_unidade_medida+'</var><var class="perCapta'+itens_cardapio[T].dia_semana+'" style="display: none">'+itens_cardapio[T].per_capta_alimento+'</var><div class="col-md-3 wrapper refeicao'+itens_cardapio[T].dia_semana+'" style="margin-top: 5px">'+itens_cardapio[T].nome_refeicao+'</div><div class="col-md-5 wrapper item'+itens_cardapio[T].dia_semana+'" style="margin-top: 5px">'+itens_cardapio[T].nome_item+'</div><div class="col-md-2 wrapper medida'+itens_cardapio[T].dia_semana+'" style="margin-top: 5px">'+itens_cardapio[T].per_capta_alimento+" "+Pe+'</div><div class="col-md-2 text-center"><button class="btn btn-danger botaoRemover'+itens_cardapio[T].dia_semana+' data-toggle="tooltip" data-placement="top" title="Excluir"><i class="fa fa-trash"></i></button></div></div></li></div>';e("#listaVazia"+itens_cardapio[T].dia_semana).hide(),e("#listaItens"+itens_cardapio[T].dia_semana).append(Ce),H=".listaItem"+itens_cardapio[T].dia_semana,L="#listaItens"+itens_cardapio[T].dia_semana,U=void 0,(U=e(H)).sort(function(a,t){return e(a).attr("horario_ref")-e(t).attr("horario_ref")}),e(L).html(U)}e("#nome_referencia").empty(),e("#nome_referencia").html(referencia_modalidade.nome),e("#descricao_referencia").empty(),e("#descricao_referencia").html(referencia_modalidade.descricao),e("#categoria_referencia").empty(),e("#idade_referencia").empty(),1==referencia_modalidade.categoria_ensino?(e("#categoria_referencia").html("Creche"),1==referencia_modalidade.idade_alunos?e("#idade_referencia").html("7 - 11 meses"):e("#idade_referencia").html("1 - 3 anos")):2==referencia_modalidade.categoria_ensino?(e("#categoria_referencia").html("Pré-escola"),e("#idade_referencia").html("4 - 5 anos")):3==referencia_modalidade.categoria_ensino?(e("#categoria_referencia").html("Ensino Fundamental"),4==referencia_modalidade.idade_alunos?e("#idade_referencia").html("6 - 10 anos"):e("#idade_referencia").html("11 - 15 anos")):4==referencia_modalidade.categoria_ensino?(e("#categoria_referencia").html("Ensino Médio"),e("#idade_referencia").html("16 - 18 anos")):(e("#categoria_referencia").html("EJA"),7==referencia_modalidade.idade_alunos?e("#idade_referencia").html("19 - 30 anos"):e("#idade_referencia").html("31 - 60 anos")),function(){e("#table_cardapio tbody tr").remove();var c=[],F=[],m=[],x=[],v=[],h=[],w=[],g=[],f=[],M=[],y=[],Y=[];e(".refeicao1").each(function(a,t){c[a]=e(this).html()}),e(".item1").each(function(a,t){F[a]=e(this).html()}),e(".refeicao2").each(function(a,t){m[a]=e(this).html()}),e(".item2").each(function(a,t){x[a]=e(this).html()}),e(".refeicao3").each(function(a,t){v[a]=e(this).html()}),e(".item3").each(function(a,t){h[a]=e(this).html()}),e(".refeicao4").each(function(a,t){w[a]=e(this).html()}),e(".item4").each(function(a,t){g[a]=e(this).html()}),e(".refeicao5").each(function(a,t){f[a]=e(this).html()}),e(".item5").each(function(a,t){M[a]=e(this).html()}),e(".refeicao6").each(function(a,t){y[a]=e(this).html()}),e(".item6").each(function(a,t){Y[a]=e(this).html()});for(var q=[""],A=[""],E=[""],S=[""],N=[""],I=[""],P=0,C=0,k=0,J=0,R=0,T=0,H=0;H<c.length;H++)c[H]==c[H+1]?q[P]+=F[H]+"<br>":(q[P]+=F[H],H<c.length-1&&(q[++P]=""));for(H=0;H<m.length;H++)m[H]==m[H+1]?A[C]+=x[H]+"<br>":(A[C]+=x[H],H<m.length-1&&(A[++C]=""));for(H=0;H<v.length;H++)v[H]==v[H+1]?E[k]+=h[H]+"<br>":(E[k]+=h[H],H<v.length-1&&(E[++k]=""));for(H=0;H<w.length;H++)w[H]==w[H+1]?S[J]+=g[H]+"<br>":(S[J]+=g[H],H<w.length-1&&(S[++J]=""));for(H=0;H<f.length;H++)f[H]==f[H+1]?N[R]+=M[H]+"<br>":(N[R]+=M[H],H<f.length-1&&(N[++R]=""));for(H=0;H<y.length;H++)y[H]==y[H+1]?I[T]+=Y[H]+"<br>":(I[T]+=Y[H],H<y.length-1&&(I[++T]=""));var L=[];e.each(c,function(a,t){-1===e.inArray(t,L)&&L.push(t)}),L=[],e.each(c,function(a,t){-1===e.inArray(t,L)&&L.push(t)});var U=[];e.each(m,function(a,t){-1===e.inArray(t,U)&&U.push(t)});var V=[];e.each(v,function(a,t){-1===e.inArray(t,V)&&V.push(t)});var $=[];e.each(w,function(a,t){-1===e.inArray(t,$)&&$.push(t)});var j=[];e.each(f,function(a,t){-1===e.inArray(t,j)&&j.push(t)});var B=[];e.each(y,function(a,t){-1===e.inArray(t,B)&&B.push(t)});var G=e("#select_escola option:selected"),K=e("#select_modalidade").val(),Q=[],W=0,X=[],ee=[];ee[0]=L.length,ee[1]=U.length,ee[2]=V.length,ee[3]=$.length,ee[4]=j.length,ee[5]=B.length;var ae=function(e){for(var a=e[0],t=0,i=1;i<e.length;i++)e[i]>a&&(a=e[i],t=i);return t}(ee);Q=0==ae?L:1==ae?U:2==ae?V:3==ae?$:4==ae?j:B;var te=G.text();if("undefined"!=typeof modalidades_escola)for(var H in modalidades_escola)null!=modalidades_escola.hasOwnProperty(H)&&modalidades_escola[H].id==K&&(W=modalidades_escola[H].id_referencia);if("undefined"!=typeof referencias)for(var H in referencias)null!=referencias.hasOwnProperty(H)&&referencias[H].id==W&&(X=referencias[H]);var ie=0,oe=0,re=0,de=0,se=0,pe=0;for(H=0;H<Q.length;H++){for(var _e=e("<tr class='success'>"),ne="",le="",ce=0;ce<tipo_refeicoes.length;ce++)Q[H]==tipo_refeicoes[ce].nome&&(le=tipo_refeicoes[ce].horario.split(":"));ne+='<td class="text-center"style="width:100px;" colspan="3"><font size=2><strong>'+Q[H]+"</strong><br>"+le[0]+":"+le[1]+"</font></td>",L[ie]==Q[H]?(ne+='<td class="text-center" colspan="2" style="width:220px;"><font size=2>'+q[ie]+"</font></td>",ie++):ne+='<td class="text-center" colspan="2" style="width:220px;"><font size=2></font></td>',U[oe]==Q[H]?(ne+='<td class="text-center" colspan="2" style="width:220px;"><font size=2>'+A[oe]+"</font></td>",oe++):ne+='<td class="text-center" colspan="2" style="width:220px;"><font size=2></font></td>',V[re]==Q[H]?(ne+='<td class="text-center" colspan="2" style="width:220px;"><font size=2>'+E[re]+"</font></td>",re++):ne+='<td class="text-center" colspan="2" style="width:220px;"><font size=2></font></td>',$[de]==Q[H]?(ne+='<td class="text-center" colspan="2" style="width:220px;"><font size=2>'+S[de]+"</font></td>",de++):ne+='<td class="text-center" colspan="2" style="width:220px;"><font size=2></font></td>',j[se]==Q[H]?(ne+='<td class="text-center" colspan="2" style="width:220px;"><font size=2>'+N[se]+"</font></td>",se++):ne+='<td class="text-center" colspan="2" style="width:220px;"><font size=2></font></td>',B[pe]==Q[H]?(ne+='<td class="text-center" colspan="2" style="width:290px;"><font size=2>'+I[pe]+"</font></td>",pe++):ne+='<td class="text-center" colspan="2" style="width:290px;"><font size=2></font></td>',_e.append(ne),e("#table_cardapio").append(_e)}var Fe=new Date,me=new Date,xe=new Date,ve=new Date,he=new Date,we=new Date;1==i.getDay()?(Fe=i,me=a(1,i),xe=a(2,i),ve=a(3,i),he=a(4,i),we=a(5,i)):2==i.getDay()?(Fe=t(1,i),me=i,xe=a(1,i),ve=a(2,i),he=a(3,i),we=a(4,i)):3==i.getDay()?(Fe=t(2,i),me=t(1,i),xe=i,ve=a(1,i),he=a(2,i),we=a(3,i)):4==i.getDay()?(Fe=t(3,i),me=t(2,i),xe=t(1,i),ve=i,he=a(1,i),we=a(2,i)):5==i.getDay()?(Fe=t(4,i),me=t(3,i),xe=t(2,i),ve=t(1,i),he=i,we=a(1,i)):(Fe=t(5,i),me=t(4,i),xe=t(3,i),ve=t(2,i),he=t(1,i),we=i),Fe.getDate()<10&&Fe.getMonth()+1<10?e("#td_dia1").html("0"+Fe.getDate()+"/0"+(Fe.getMonth()+1)):Fe.getDate()<10&&Fe.getMonth()+1>=10?e("#td_dia1").html("0"+Fe.getDate()+"/"+(Fe.getMonth()+1)):Fe.getDate()>=10&&Fe.getMonth()+1<10?e("#td_dia1").html(Fe.getDate()+"/0"+(Fe.getMonth()+1)):e("#td_dia1").html(Fe.getDate()+"/"+(Fe.getMonth()+1)),me.getDate()<10&&me.getMonth()+1<10?e("#td_dia2").html("0"+me.getDate()+"/0"+(me.getMonth()+1)):me.getDate()<10&&me.getMonth()+1>=10?e("#td_dia2").html("0"+me.getDate()+"/"+(me.getMonth()+1)):me.getDate()>=10&&me.getMonth()+1<10?e("#td_dia2").html(me.getDate()+"/0"+(me.getMonth()+1)):e("#td_dia2").html(me.getDate()+"/"+(me.getMonth()+1)),xe.getDate()<10&&xe.getMonth()+1<10?e("#td_dia3").html("0"+xe.getDate()+"/0"+(xe.getMonth()+1)):xe.getDate()<10&&xe.getMonth()+1>=10?e("#td_dia3").html("0"+xe.getDate()+"/"+(xe.getMonth()+1)):xe.getDate()>=10&&xe.getMonth()+1<10?e("#td_dia3").html(xe.getDate()+"/0"+(xe.getMonth()+1)):e("#td_dia3").html(xe.getDate()+"/"+(xe.getMonth()+1)),ve.getDate()<10&&ve.getMonth()+1<10?e("#td_dia4").html("0"+ve.getDate()+"/0"+(ve.getMonth()+1)):ve.getDate()<10&&ve.getMonth()+1>=10?e("#td_dia4").html("0"+ve.getDate()+"/"+(ve.getMonth()+1)):ve.getDate()>=10&&ve.getMonth()+1<10?e("#td_dia4").html(ve.getDate()+"/0"+(ve.getMonth()+1)):e("#td_dia4").html(ve.getDate()+"/"+(ve.getMonth()+1)),he.getDate()<10&&he.getMonth()+1<10?e("#td_dia5").html("0"+he.getDate()+"/0"+(he.getMonth()+1)):he.getDate()<10&&he.getMonth()+1>=10?e("#td_dia5").html("0"+he.getDate()+"/"+(he.getMonth()+1)):he.getDate()>=10&&he.getMonth()+1<10?e("#td_dia5").html(he.getDate()+"/0"+(he.getMonth()+1)):e("#td_dia5").html(he.getDate()+"/"+(he.getMonth()+1)),we.getDate()<10&&we.getMonth()+1<10?e("#td_dia6").html("0"+we.getDate()+"/0"+(we.getMonth()+1)):we.getDate()<10&&we.getMonth()+1>=10?e("#td_dia6").html("0"+we.getDate()+"/"+(we.getMonth()+1)):we.getDate()>=10&&we.getMonth()+1<10?e("#td_dia6").html(we.getDate()+"/0"+(we.getMonth()+1)):e("#td_dia6").html(we.getDate()+"/"+(we.getMonth()+1)),e("#span_mes_ano").html(o[i.getMonth()]+" / "+i.getFullYear());var ge="",fe="";ge=1==X.categoria_ensino?"CRECHE":2==X.categoria_ensino?"PRÉ-ESCOLA":3==X.categoria_ensino?"ENSINO FUNDAMENTAL":4==X.categoria_ensino?"ENSINO MÉDIO":"EJA",fe=1==X.idade_alunos?"7 - 11 MESES":2==X.idade_alunos?"1 - 3 ANOS":3==X.idade_alunos?"4 - 5 ANOS":4==X.idade_alunos?"6 - 10 ANOS":5==X.idade_alunos?"11 - 15 ANOS":6==X.idade_alunos?"16 - 18 ANOS":7==X.idade_alunos?"19 - 30 anos":"31 - 60 anos",e("#td_modalidade").html("CARDÁPIO "+ge+" ("+fe+") <strong>"+te.toUpperCase()+"</strong>"),e("#td_span_calorias").html((r/Z).toFixed(2)),e("#td_span_carboidratos").html((d/Z).toFixed(2)),e("#td_span_proteinas").html((s/Z).toFixed(2)),e("#td_span_lipidios").html((p/Z).toFixed(2)),e("#td_span_fibras").html((_/Z).toFixed(2)),e("#td_span_vit_a").html((n/Z).toFixed(2)),e("#td_span_vit_c").html((l/Z).toFixed(2)),e("#td_span_calcio").html((u/Z).toFixed(2)),e("#td_span_ferro").html((b/Z).toFixed(2)),e("#td_span_magnesio").html((D/Z).toFixed(2)),e("#td_span_zinco").html((z/Z).toFixed(2)),e("#td_span_sodio").html((O/Z).toFixed(2))}()});
